(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],p=0,u=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/scenario-generator/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"007d":function(t,e,a){},"0127":function(t,e,a){},"0232":function(t,e,a){},"032a":function(t,e,a){},"034f":function(t,e,a){"use strict";a("0127")},"0b8f":function(t,e,a){"use strict";a("9935")},1:function(t,e){},1718:function(t,e,a){"use strict";a("4d91")},"18fc":function(t,e,a){"use strict";a("8b26")},2:function(t,e){},2174:function(t,e,a){"use strict";a("d175")},"254a":function(t,e,a){},"27c5":function(t,e,a){},3:function(t,e){},3515:function(t,e,a){},"360c":function(t,e,a){"use strict";a("c93d")},4:function(t,e){},"41cf":function(t,e,a){"use strict";a("b5e0")},4384:function(t,e,a){"use strict";a("b8d3")},"45b6":function(t,e,a){},"46b8":function(t,e,a){"use strict";a("9972")},"48e6":function(t,e,a){"use strict";a("007d")},"4b6f":function(t,e,a){"use strict";a("0232")},"4d91":function(t,e,a){},"502b":function(t){t.exports=JSON.parse('{"gb":{"APP":{"ABOUT":"about","ACTIVE":"active {item}","ADD":"Add {item}","ADD_CONTEXT":"add context","ADD_DIMENSIONS":"Add dimensions","ARE_YOU_SURE":"are you sure?","BUILD_SENTENCE":"Build a sentence structure","CANCEL":"cancel","CLOSE":"close","COMBINATIONS":"combinations","CONSISTENCY":"consistency | consistencies","CONSISTENT":"Combinations with these two items are possible","COPY":"Copy to clipboard","CREATE_SCENARIO":"Create scenario","DELETE":"delete {item}","DELETE_ITEM":"delete","DESCRIPTION":"description | description","DIMENSION":"dimension | dimensions","DIMENSION_INCLUDED":"do or do not include dimension in scenario","DONE":"done","EDIT":"edit {item}","EMPTY":"empty {item}","EXPLAIN_CLEAR_ICON":"Click the cross-icon to clear the selected dimension value","EXPORT":"Export file","FILL_SENTENCE":"Fill the sentence","GENERATE":"Generate {item}","IMPORT":"Import file","IMPORT_EXPORT_TITLE":"Import/export project","INCLUDE_ALL":"include all dimensions in scenario","INCONSISTENT":"Combinations with these two items are impossible","KEY":"key","LANGUAGE":"language","LOCATION":"location","NAME":"name","NO":"no","NO_LOCATION_CONTEXT":"No location found in scenario","NO_LOCATION_TYPE_CONTEXT":"No location type found in scenario","NO_VALID_SCENARIO":"No valid scenario generated after {count} iterations.","OPEN_CLOSE":"show/hide content","PARTLY_CONSISTENT":"Combinations with these two items are improbable","PIN":"save {item}","SAVE":"save","SCENARIO":"Scenario","SELECTED":"selected","SELECT_DIMENSION":"select a dimension","SENTENCE":"sentence | sentences","SHOW_SCENARIO":"Show scenario","TOGGLE_KANBAN_DIR":"Toggle morphological box","STRUCTURE":"structure","THEME":"theme","TITLE":"title","TOGGLE_MAP_BASE":"toggle map background","UNLOCK_ALL":"unlock all locked dimensions","UNLOCK_ONE":"unlock this locked dimension","VALUE":"value","WRITE_NARRATIVE":"Notes","NARRATIVE_INCLUDED":"included","NARRATIVE_NOT_INCLUDED":"not selected","YES":"yes"},"COMP":{"AVAILABLEBUDGET":"budget | budget","BEHAVIOURDURINGPREPARATION":"behaviour during preparation","CAPABILITIES":"capability | capabilities","COMPARTMENTSPRESENT":"compartments present","CRIMINALPHASE":"criminal phase","DURATION":"duration | durations","EQUIPMENT":"equipment | equipment","EXISTINGINFRA":"existing infra | existing infras","IMPACT":"impact","INTENT":"bystander intent","LOCATION":"location | locations","MODUSOPERANDIDURINGEXECUTION":"mode of operation | modus operandi","MOTIVATION":"motivation | motivations","NARRATIVE":"narrative | narratives","OBJECT":"object | objects","OPENCOMPARTMENTS":"open compartment | open compartments","PEOPLEDENSITY":"person density | person densities","PERSONS":"person | persons","PHYSICALANGLEOFATTACKDURINGEXECUTION":"physical angle of attack | physical angle of attacks","PHYSICAL_ANGLE":"physical angle | physical angles","PRIVACYAWARENESS":"privacy awareness","RELATIONOWNEROBJECTANDOWNERSECURITYSYSTEM":"relation owner object and owner security system","RESPONSIBILITY":"responsibility | responsibilities","SCENARIOS":"scenario | scenarios","SECURITYAWARENESS":"security awareness","TARGETTYPE":"target type | target types","THREATDIRECTION":"threat direction | threat directions","ACTOR":"actor | actors","ACTION":"action | actions","ACCESS":"access | access","MEANS":"means | means","TYPEOFENVIRONMENT":"environment type | environment types","TYPEOFOBJECT":"type of object | type of objects","WEAPON":"weapon | weapons","WEATHERBEHAVIOUR":"weather behaviour","WEATHERTYPE":"weather condition | weather conditions","PI":"protected interest (target) | protected interests","MEANSWEAPON":"means/weapon | means/weapons"},"UTIL":{"A":"a","AN":"an"}}}')},5671:function(t,e,a){},"5d03":function(t,e,a){"use strict";a("45b6")},"6e85":function(t,e,a){"use strict";a("254a")},"76ff":function(t,e,a){t.exports=a.p+"img/words.08a4c398.png"},"87e1":function(t){t.exports=JSON.parse('{"scenarios":[{"id":"demo1","type":"scenarios","category":"SCENARIO","name":"Demo","categories":{"Threat":["ThreatDirection","Impact","Motivation","ModusOperandiDuringExecution","Equipment","Responsibility"],"Context":["WeatherType","WeatherBehaviour","TypeOfObject","AvailableBudget","OpenCompartments","Location"]}}],"ThreatDirection":["Hannibal","The Romans","Verweggistan"],"Impact":["Low","Medium","High"],"Motivation":["Money","Justice","Revenge"],"ModusOperandiDuringExecution":["Sniper attack","Kidnapping","Singing"],"Equipment":["None","Drone","Bomb","Helicopter","Hammer"],"Responsibility":["Private","Public"],"WeatherType":["Rainy","Sunny","Windy","Cloudy"],"WeatherBehaviour":["Stable","Changing"],"TypeOfObject":["Church","Park","Palace","Airport"],"AvailableBudget":["Knowledge","Water"],"OpenCompartments":["Open","Closed"],"Location":["Vietnam","Washington","Buitenpost"]}')},"8af2":function(t){t.exports=JSON.parse('{"nl":{"APP":{"ABOUT":"over","ACTIVE":"actief {item}","ADD":"{item} toevoegen","ADD_CONTEXT":"voeg context toe","ADD_DIMENSIONS":"voeg dimensies toe","ARE_YOU_SURE":"ben je zeker?","BUILD_SENTENCE":"Bouw een zinsstructuur","CANCEL":"cancel","CLOSE":"sluit","COMBINATIONS":"combinaties","CONSISTENCY":"consistentie | consistenties","CONSISTENT":"Combinaties met deze twee items zijn mogelijk","COPY":"Kopieer","CREATE_SCENARIO":"creëer scenario","DELETE":"delete {item}","DELETE_ITEM":"delete","DESCRIPTION":"beschrijving | beschrijvingen","DIMENSION":"dimensie | dimensies","DIMENSION_INCLUDED":"dimensie wel of niet gebruiken in scenario","DONE":"klaar","EDIT":"{item} bewerken","EMPTY":"wis {item}","EXPLAIN_CLEAR_ICON":"Klik het kruisje achter een item om deze te wissen","EXPORT":"Exporteer bestand","FILL_SENTENCE":"Vul de zin in","GENERATE":"Genereer {item}","IMPORT":"Importeer bestand","IMPORT_EXPORT_TITLE":"Importeer/exporteer project","INCLUDE_ALL":"alle dimensiess meenemen in scenario","INCONSISTENT":"Combinaties met deze twee items zijn uitgesloten","KEY":"key","LANGUAGE":"taal","LOCATION":"locatie","NAME":"naam","NO":"nee","NO_LOCATION_CONTEXT":"Geen locatie gevonden in scenario","NO_LOCATION_TYPE_CONTEXT":"Geen locatie type gevonden in scenario","NO_VALID_SCENARIO":"Geen valide scenario gegenereerd na {count} iteraties.","OPEN_CLOSE":"toon/verberg inhoud","PARTLY_CONSISTENT":"Combinaties met deze twee items zijn onwaarschijnlijk","PIN":"bewaar {item}","SAVE":"opslaan","SCENARIO":"scenario","SELECTED":"geselecteerd","SELECT_DIMENSION":"selecteer een dimensie","SENTENCE":"zin | zinnen","SHOW_SCENARIO":"toon scenario","TOGGLE_KANBAN_DIR":"Verander de richting van de morfologische box","STRUCTURE":"structuur","THEME":"thema","TITLE":"titel","TOGGLE_MAP_BASE":"wissel kaart achtergrond","UNLOCK_ALL":"alle vastgezette dimensies losmaken","UNLOCK_ONE":"deze vastgezette dimensie losmaken","VALUE":"value","WRITE_NARRATIVE":"Aantekeningen","NARRATIVE_INCLUDED":"geselecteerd","NARRATIVE_NOT_INCLUDED":"niet geselecteerd","YES":"ja"},"COMP":{"AVAILABLEBUDGET":"budget | budget","BEHAVIOURDURINGPREPARATION":"gedrag tijdens voorbereiding","CAPABILITIES":"capability | capabilities","COMPARTMENTSPRESENT":"aanwezige compartimenten","CRIMINALPHASE":"criminele fase","DURATION":"duur | duur","EQUIPMENT":"materieel","EXISTINGINFRA":"bestaande infra | bestaande infras","IMPACT":"impact","INTENT":"intentie publiek","LOCATION":"locatie | locaties","MODUSOPERANDIDURINGEXECUTION":"modus operandus | modus operandi","MOTIVATION":"motivatie | motivaties","NARRATIVE":"verhaallijn | verhaallijnen","OBJECT":"object | objecten","OPENCOMPARTMENTS":"open compartiment | open compartimenten","PEOPLEDENSITY":"personendichtheid | personendichtheden","PERSONS":"persoon | personen","PHYSICALANGLEOFATTACKDURINGEXECUTION":"fysieke aanvalshoek | fysieke aanvalshoeken","PHYSICAL_ANGLE":"fysieke hoek | fysieke hoek","PRIVACYAWARENESS":"privacy-bewustzijn","RELATIONOWNEROBJECTANDOWNERSECURITYSYSTEM":"relatie eigenaar object en eigenaar beveiligingssysteem","RESPONSIBILITY":"verantwoordelijkheid | verantwoordelijkheden","SCENARIOS":"scenario | scenarios","SECURITYAWARENESS":"beveiligingsbewustzijn","TARGETTYPE":"doeltype | doeltypes","THREATDIRECTION":"dreigingsrichting | dreigingsrichtingen","ACTOR":"actor | actoren","ACTION":"moedwillige actie | moedwillige acties","ACCESS":"wijze van toegang | wijze van toegang","MEANS":"middel / wapen | middelen / wapens","TYPEOFENVIRONMENT":"omgevingstype | omgevingstypes","TYPEOFOBJECT":"objecttype | objecttypes","WEAPON":"wapen | wapens","WEATHERBEHAVIOUR":"weersgedrag | weersgedragingen","WEATHERTYPE":"weersconditie | weerscondities","PI":"TBB-onderdeel (doelwit) | TBB-onderdelen","MEANSWEAPON":"middel/wapen | middelen/wapens"},"UTIL":{"A":"een","AN":"een"}}}')},"8b26":function(t,e,a){},"8f0a":function(t,e,a){},"90f7":function(t,e,a){"use strict";a("ecca")},9935:function(t,e,a){},9972:function(t,e,a){},abb8:function(t,e,a){"use strict";a("5671")},b40b:function(t,e,a){"use strict";a("3515")},b5e0:function(t,e,a){},b666:function(t,e,a){},b8d3:function(t,e,a){},ba33:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdwAAACuBAMAAABuEKG4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABVQTFRFAAAA////////////////////////SM9tBAAAAAd0Uk5TACRsocLp/1DZrFIAAAbuSURBVHic7Z1Lc9w2EIQlJcFZch5nRk54tqtSOW+SMs9KpeQz9Vj+/5+QSPIqS3Iw043nQmZfNYPpj6BAECC5Z2ebNm3atCmv3r3/dHt7+9f1ZW0j+XUxTMf6s7afrPp1WmnfYanrzHTaf1QK/y7n/GE6/tFTDQLOxvqiexbXsn3hr/VYH3eafCOJF9eb8aSf1Fof6uP63PtxlV4ajFp39XEnFnfahZt9qI8rH3IF1/MPf44UM/6BUzFpEntLwZXPB4jW4k3CY4nFFYcctJh6PieAsTWSuFL8Z7ia/+JXCFfqXhK3J6pJR6sormBAw13//zmqnP/6G0UBSxg/NNzV2aDMpaD8wrjCXIPCZct5/33DCSiNUbj61BGrVxR3fXoRuN+kqFcW9yYCN6SeZ/YcZj5BeRzXBRWUR+egpkIUjhtWb18XdwzFdYkKlsVdXnpRXPDOQG+kPO7y0ovi8hehg6TuDW4stjqIG965YvdGtBZXHcR1EQVXF7+iuPNLA4gbU1CYqcc0R2p+NmO4LqpiVxN3fjZjuHEF11OruPY4zboXwnWRFavi3tO4ahCgsSbuROPGFlzNJGMbpDSSuC664nJZIbpBRnsSN77i8myOb5FRR+GyK1T+lirhjhSuS1Cxq4k7UbgpCo5VcW8I3BTn8nJsTtEkoTsC1yWpWBV3InCHJAXHqrgjjpum4F1V3EcY1yWqWBX3dZ5TDLerijuiuKkL1sGdSuPe18X9gOG6ZAXr4o6lcS+r4k4YLv4shqWxLu4I4aauVw33HsEN2dP16Hj9dUjXLCwE16Wu96LwLZhwjYVxj8aqlM2i2gO46Uaq2eaJS9gsrM7GTVmu8lj1XF/Hjdn4W+muMu5k4rqU1Y5XNJI2jOqmKG7laeTz6RWP+/A04v6AlDur3b0W7mC2sD9cXnq7WnfMC8Qn12jgmg08Mv11PDT7X0TKqMdI3Nl6qjlVmuOenZ1fz/SLnv1wvZJVcKXLONz5Vpc1J1niLkVn0xuxY6/91bpBWDiwFuC1x/XL4O7VjO+M7GV5ZxSrjqurZw0Y7Z04rqF1fWO0ahpXqG/89zaNK71EyWe0gisOPE5N6RrGFcpbZ/OuYVzZu5oiHqFGcGXLvZbSMK5nzuC0nIZxPdbVidjbw1VXtxrGFZ5BNz03jNt9Xbg+z9pN7xvEZd9ubxy3V3KMz4foBU8TV7sH3HBbx+2VnK8MV3DcOu6g5DSM61uZ0HIaxvV9A0TLaRjXZz0kp11cdfWmYVzPDojTchrG9QzNTkt5e7iDltIyruxdTfEtCTSLq+8ZGh+QpOsV3TSRHDs1o+VNE3FdXc/QaU8cV7i/cXpG07iC+4FNaAl3ZcB4lqPswwr8g0zWo0Nk55Z9FIV/DtF68mbh3xnhguGcuPQj8ebzvTeE3eK431p+VhlmRHdU3HyyvTAufTYDCf/zDkRsGVxn259nADF/v1RGXlk3aJPj0h8t7ZGof36+eo81VxiXfXEk7UPW5if19fQAXMcZTIsr+M2MSw5WKd+Jq4LbUwbTviGxK4/rKINpcS3aDLic/7T3HDVwHWeQCtdl/TREFlxq8EmKK9jNj0udzXFf/1zIWIbMhOsIh+TRMRurgMv0l9UipTq4zHvv5MmgyvzRnky4BMB/0fQ9sk+C2yK4xL8jF60L+OE8vYFQ3B62+BQ9wNF2W1VwrXe/5hkOjlYlmC2Ei5+fT8GJbooq4jrUI3dw7Kbq4MJrOM/RSb5gYk+Y8+HCHcadC5oEr+VwUQLu4GC1K+CiBECjmJAfusyICxK8BDuQibNaEhckgGwQDdXCBQm+BPcglFfWTmd2XOzq8iXYoViE07K42I0O5gNvpxouRnAIdigXbLQ0LkRwCI5csQJpc+JCE0msXUvgQJUVF9oMfA3G7xkF2b8tXQDXAUZRJ6qwGVVuXISAOzge7U4Dt7edcgdHFt65eXGdbZWLlrU7EVygw46jAz+QCd3XF8F1ptfj6MAF5+5kcO1Ft1l4z1AeBOwdROCqlsjmlxlBUyuGNjeu48ya4ZDFlLiqo1W02V+LeHq0gqePRXDNqfAinP7tGo7W2J+Jx1XDhQwrfqEdiauvOcTj0p/C6xlawZ8u1T39rTe6gJBB0DITjEBc1Y5UgcUlN4dJ0bja4CkVcKxjbn8pN65mX6wwsJZBXmCznnMv4mpmxArqtVfMgHiDaAPeZB9I8+q6jJxhzyat96O8ciyucuz5Ej5Xg07Lj8mvUiY+Iq7i3lfCf2vndaW+cGY/DaioJ3H97v01fMfUn3HuvQQEn8gHff/pVtToS7j4TQr/rNUQU9QMz91yF8bYgC5WPbzvanvKq3dHxPuPtd2U0fnVVeBldtOmTZs2nYL+BeoD0CS8GVM4AAAAAElFTkSuQmCC"},bc7a:function(t,e,a){},c93d:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("3e67"),a("2e61"),a("20cf");var s=a("4a64"),i=a.n(s),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("AppBar"),a("NavigationDrawer"),a("v-main",{attrs:{id:"content"}},[a("router-view"),a("v-snackbar",{attrs:{top:"",color:"#942807"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",timeout:"3000",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.note)+" ")])],1)],1)},o=[],r=a("6b14"),c=a("567d"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app-bar",{staticClass:"ind-app-bar noselect font-weight-light no-print",attrs:{app:"",dense:"",flat:"","clipped-left":"",height:"42"}},[s("v-icon",{staticClass:"home-icon pr-3",on:{click:t.openDrawer}},[t._v("mdi-menu")]),s("v-toolbar-title",[t._v("Scenario Generator")]),s("div",{staticClass:"text-center app-bar-buttons"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"ml-8 mx-2 my-2 app-btn",attrs:{outlined:"",to:"add",small:"",color:"blue"}},a),[s("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),s("span",{staticClass:"app-bar-titles"},[t._v(t._s(t.$tc("APP.DIMENSION",2)))])],1)]}}])},[s("span",[t._v(t._s(t._f("capitalize")(t.$tc("APP.DIMENSION",2))))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"mx-2 my-2 app-btn",attrs:{outlined:"",to:"consistency",small:"",color:"blue"}},a),[s("v-icon",{attrs:{left:""}},[t._v("mdi-domain")]),s("span",{staticClass:"app-bar-titles"},[t._v(t._s(t.$tc("APP.CONSISTENCY",2)))])],1)]}}])},[s("span",[t._v(t._s(t._f("capitalize")(t.$tc("APP.CONSISTENCY",2))))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"mx-2 my-2 app-btn",attrs:{outlined:"",to:"create",small:"",color:"blue"}},a),[s("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),s("span",{staticClass:"app-bar-titles"},[t._v(t._s(t.$t("APP.CREATE_SCENARIO")))])],1)]}}])},[s("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.CREATE_SCENARIO"))))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"mx-2 my-2 app-btn",attrs:{outlined:"",to:"show",small:"",color:"blue"}},a),[s("v-icon",{attrs:{left:""}},[t._v("mdi-graph-outline")]),s("span",{staticClass:"app-bar-titles"},[t._v(t._s(t.$t("APP.SHOW_SCENARIO")))])],1)]}}])},[s("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.SHOW_SCENARIO"))))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"px-1 mx-2 my-2 app-btn",attrs:{outlined:"",to:"about",small:"",color:"blue"}},a),[s("v-icon",[t._v("mdi-help-circle-outline")])],1)]}}])},[s("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.ABOUT"))))])])],1),s("div",{staticClass:"pr-2 pl-6 pt-1 narr-selector-title"},[t._v(t._s(t._f("capitalize")(t.$tc("COMP.NARRATIVE")))+":")]),s("div",{staticClass:"text-center narr-selector"},[s("v-select",{attrs:{items:t.sortedNarratives,"item-text":t.narrativeName,"return-object":"",dense:"","hide-details":""},on:{change:t.narrativeSelected},model:{value:t.activeNarrative,callback:function(e){t.activeNarrative=e},expression:"activeNarrative"}})],1),s("v-row",{staticClass:"my-3 ml-0",attrs:{"no-gutters":""}},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{text:""},on:{click:t.toggleDirection}},"v-btn",i,!1),a),[t.verticalDirection?s("v-icon",[t._v("mdi-align-vertical-top")]):t._e(),t.verticalDirection?t._e():s("v-icon",[t._v("mdi-align-horizontal-left")])],1)]}}])},[s("span",[t._v(t._s(t._f("capitalize")(t.$tc("APP.TOGGLE_KANBAN_DIR"))))])])],1),s("v-spacer"),s("v-sheet",{staticClass:"accent darken-1 px-2 d-flex",attrs:{height:"100%",tile:""}},[s("a",{staticClass:"tno-link",attrs:{href:"https://www.tno.nl",target:"_blank"}},[s("v-img",{attrs:{src:a("ba33"),"max-width":"50",contain:""}})],1)])],1)},d=[],p=a("3826");let u=class extends c["c"]{constructor(){super(...arguments),this.scenario={},this.activeNarrative={},this.verticalDirection=!1}narrativeName(t){return`${t.name} (${t.included?"✓":"x"})`}get sortedNarratives(){return this.scenario&&this.scenario.narratives?Object(p["sortBy"])(this.scenario.narratives,"name"):[]}async narrativeSelected(){this.$store.actions.changeNarrative(this.activeNarrative)}openDrawer(){this.$store.actions.toggleDrawer(!0)}toggleDirection(){this.$store.actions.setDirection(!this.verticalDirection)}async mounted(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.activeNarrative=t.app.narrative||{},this.verticalDirection=t.app.kanbanDirVert})}};u=Object(r["a"])([Object(c["a"])({components:{}})],u);var h=u,v=h,m=(a("cfa4"),a("bdd7")),g=Object(m["a"])(v,l,d,!1,null,null,null),f=g.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-navigation-drawer",{staticClass:"noselect no-print",attrs:{width:"240px",app:"",absolute:"",temporary:""},on:{input:t.drawerChanged},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-row",{staticClass:"my-3 ml-0",attrs:{"no-gutters":""}},[s("v-btn",{attrs:{text:""},on:{click:t.closeDrawer}},[s("v-icon",[t._v("mdi-arrow-left")]),t._v(" "+t._s(t.$t("APP.CLOSE")))],1)],1),s("v-row",{staticClass:"my-4",attrs:{"no-gutters":"","align-content":"center",justify:"center"}},[s("v-img",{attrs:{src:a("76ff"),"max-width":"180",contain:""}})],1),s("v-card",{staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(" "+t._s(t.$t("APP.SCENARIO"))+" ")]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("div",{staticClass:"blue--text"},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.ACTIVE",{item:t.$tc("COMP.SCENARIOS")})))+": "),s("span",{staticClass:"bold--text"},[t._v(t._s(this.activeScenario.name||"-")+" ")]),s("span",[t.activeScenario?s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-1 add-button",attrs:{color:"blue",icon:"","x-small":"",elevation:"2"}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!1,3635798699),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("EditComponentCard",{attrs:{itemkey:"scenarios",itemid:t.activeScenario.id,itemname:t.activeScenario.name},on:{close:t.closeMenu}})],1):t._e()],1)])])],1),s("v-row",{staticClass:"mt-2 ml-4",attrs:{"no-gutters":""}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{color:"accent darken-1",small:"",elevation:"2"}},"v-btn",i,!1),a),[s("v-icon",{staticClass:"pr-1",attrs:{small:""}},[t._v("mdi-import")]),t._v(" Import/export ")],1)]}}]),model:{value:t.importMenu,callback:function(e){t.importMenu=e},expression:"importMenu"}},[s("ImportExportCard",{on:{close:t.closeImportMenu}})],1)],1),t.activeScenario?s("v-card",{staticClass:"mb-0",staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$tc("COMP.NARRATIVE",2)))]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("div",{staticClass:"blue--text"},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.ACTIVE",{item:t.$tc("COMP.NARRATIVE")})))+": "),s("span",{staticClass:"bold--text"},[t._v(t._s(this.activeNarrative.name||"-")+" ")]),s("span",[t.activeNarrative?s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-1 add-button",attrs:{color:"blue",icon:"","x-small":"",elevation:"2"}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-trash-can-outline")])],1)]}}],null,!1,3859447078),model:{value:t.narMenu,callback:function(e){t.narMenu=e},expression:"narMenu"}},[s("DeleteCard",{on:{close:t.closeNarMenu}})],1):t._e()],1)])])],1):t._e(),s("v-row",{staticClass:"my-0 ml-4",attrs:{"no-gutters":""}},[s("v-select",{attrs:{items:t.sortedNarratives,"item-text":"name","return-object":"",dense:"","hide-details":""},on:{change:t.narrativeSelected},model:{value:t.activeNarrative,callback:function(e){t.activeNarrative=e},expression:"activeNarrative"}})],1),s("v-card",{staticClass:"mt-6",staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.LANGUAGE")))]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("v-radio-group",{staticClass:"ind-radio",on:{change:t.languageChanged},model:{value:t.activeLanguage,callback:function(e){t.activeLanguage=e},expression:"activeLanguage"}},t._l(t.languages,(function(e){return s("v-radio",{key:e,attrs:{label:e,value:e},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",[s("CountryFlag",{attrs:{iso:e,mode:"squared"}}),t._v(" "+t._s(e))],1)]},proxy:!0}],null,!0)})})),1)],1)],1),s("v-card",{staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.THEME")))]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("v-radio-group",{staticClass:"ind-radio",on:{change:t.themeChanged},model:{value:t.activeTheme,callback:function(e){t.activeTheme=e},expression:"activeTheme"}},t._l(t.themes,(function(t){return s("v-radio",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)],1)},y=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"edit-component-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.EDIT",{item:this.getTranslateKey()}))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$t("APP.NAME")),disabled:t.lockName,autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editItem.apply(null,arguments)}},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$tc("APP.DESCRIPTION",1))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editItem.apply(null,arguments)}},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),a("v-text-field",{attrs:{label:"Type",disabled:""},model:{value:t.itemkey,callback:function(e){t.itemkey=e},expression:"itemkey"}},[t._v("itemkey")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.deleteItem}},[t._v(" "+t._s(t.$t("APP.DELETE_ITEM"))+" ")]),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.CANCEL"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.editItem}},[t._v(" "+t._s(t.$t("APP.SAVE"))+" ")])],1)],1)},C=[];let _=class extends c["c"]{constructor(){super(),this.newName="",this.desc=""}getTranslateKey(){return this.$tc("COMP."+this.itemkey.toUpperCase())}editItem(){this.$store.actions[this.itemkey].save({id:this.itemid,name:this.newName,desc:this.desc}),this.$store.actions[this.itemkey].load(this.itemid),this.$emit("close")}deleteItem(){this.$store.actions[this.itemkey].del(this.itemid),this.$emit("close")}async cancel(){this.$emit("close")}mounted(){this.newName=this.itemname,this.desc=this.itemdesc}};Object(r["a"])([Object(c["b"])({default:""})],_.prototype,"itemkey",void 0),Object(r["a"])([Object(c["b"])({default:""})],_.prototype,"itemname",void 0),Object(r["a"])([Object(c["b"])({default:""})],_.prototype,"itemdesc",void 0),Object(r["a"])([Object(c["b"])({default:""})],_.prototype,"itemid",void 0),Object(r["a"])([Object(c["b"])({default:!1})],_.prototype,"lockName",void 0),_=Object(r["a"])([Object(c["a"])({components:{}})],_);var E=_,N=E,T=(a("5d03"),Object(m["a"])(N,O,C,!1,null,"718d5256",null)),A=T.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"add-component-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.IMPORT_EXPORT_TITLE"))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-card",[a("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.IMPORT")))]),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-file-input",{attrs:{accept:"application/json","show-size":"","truncate-length":"20",label:"Open"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent darken-1"},on:{click:t.importItem}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-import ")]),t._v(t._s(t.$t("APP.IMPORT"))+" ")],1)],1)],1),a("v-card",{staticClass:"mt-1"},[a("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.EXPORT")))]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"ml-2",attrs:{color:"accent darken-1"},on:{click:t.exportItem}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-export ")]),t._v(t._s(t.$t("APP.EXPORT"))+" ")],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.DONE"))+" ")])],1)],1)},I=[],k=a("a020"),S=a("e7dc"),P=a.n(S);const w=Object.assign||((t,e)=>(e&&Object.keys(e).forEach(a=>t[a]=e[a]),t)),j=(t,e,a)=>{const s=typeof a;if(a&&"object"===s)if(Array.isArray(a))for(const i of a)e=j(t,e,i);else for(const i of Object.keys(a)){const s=a[i];"function"===typeof s?e[i]=s(e[i],$):void 0===s?t&&!isNaN(+i)?e.splice(i,1):delete e[i]:null===s||"object"!==typeof s||Array.isArray(s)?e[i]=s:"object"===typeof e[i]?e[i]=s===e[i]?s:$(e[i],s):e[i]=j(!1,{},s)}else"function"===s&&(e=a(e,$));return e},$=(t,...e)=>{const a=Array.isArray(t);return j(a,a?t.slice():w({},t),e)};var L=a("8b9a"),R=a("87e1"),D=a("1dd9");const M="V2018_THEME",z="V2018_KANBAN_DIR",V=(t=!1)=>t?Object(D["a"])():Object(D["a"])().substr(0,8),U=t=>void 0!==t.message,G=console.log,B=console.error,F=R,Y=()=>t=>{if(G(`Start LocalStorageFactory ${t}...`),!localStorage.getItem(t)&&F.hasOwnProperty(t)){G(`Loading example keys for ${t}...`);const e=F[t].map(e=>"scenarios"===t?Object.assign({inconsistencies:[],narratives:[]},e):{id:V(),name:e,type:t});localStorage.setItem(t,JSON.stringify(e))}const e=async e=>{try{const a=JSON.parse(localStorage.getItem(t)||"[]");return a.push(e),localStorage.setItem(t,JSON.stringify(a)),a}catch(a){return U(a)&&B(a.message)}},a=async a=>{try{console.log("Updating item");const s=JSON.parse(localStorage.getItem(t)||"[]"),i=s.findIndex(t=>t.id===a.id);return i>=0?(s.splice(i,1,{...s[i],...a}),localStorage.setItem(t,JSON.stringify(s)),s):e(a)}catch(s){return U(s)&&B(s.message)}},s=async t=>t.id?a(t):e(t),i=async e=>{try{const a=JSON.parse(localStorage.getItem(t)||"[]"),s=a.findIndex(t=>t.id===e);if(s<0)return B("Item not deleted: "+e);const i=a.splice(s,1).pop()||{id:0};return localStorage.setItem(t,JSON.stringify(a)),G("Deleted "+i.id),a}catch(a){return U(a)&&B(a.message)}},n=(e,a)=>{try{const s=JSON.parse(localStorage.getItem(t)||"[]"),i=s.findIndex(t=>t.id===e);if(i<0)return B("Scenario not found: "+e);const n=s[i],o=n.narratives.filter(t=>t.id!==a);return n.narratives=o,localStorage.setItem(t,JSON.stringify(s)),s}catch(s){return U(s)&&B(s.message)}},o=e=>{const a=JSON.parse(localStorage.getItem(t)||"[]"),s=a.find(t=>t.id===e);return s},r=async()=>JSON.parse(localStorage.getItem(t)||"[]"),c=async e=>{localStorage.setItem(t,JSON.stringify(e))},l=async()=>{const e=[];localStorage.setItem(t,JSON.stringify(e))};return{create:e,update:a,save:s,del:i,delNarrative:n,load:o,loadList:r,saveList:c,resetList:l}},X=Y(),W=t=>{const e=X(t);return{initial:{[t]:{mode:void 0,current:void 0,list:[]}},actions:(a,s)=>({[t]:{updateList:async()=>{const s=await e.loadList();s&&a({[t]:{list:s}})},saveList:async i=>{const n=s();if(n[t]&&n[t].list){const s=i||n[t].list;await(s&&e.saveList(s)),a({[t]:{list:s}})}},load:async i=>{const n=e.load(i);if(n){const e=s(),{current:i={}}=e[t];Object.keys(i).forEach(t=>i[t]=void 0),a({[t]:{current:{...i,...n}}})}},save:async(s,i)=>{const n=await e.save(s);n&&(a({[t]:{list:n}}),i&&i(n))},del:async s=>{const i=await e.del(s);i&&a({[t]:{list:i}})},delNarrative:(s,i)=>{const n=e.delNarrative(s,i);n&&a({[t]:{list:()=>n,current:()=>n[0]}})},changeSection:e=>a({[t]:{section:e}})}})}};var K=a("d04a"),H=a("408a"),J=a("8af2"),q=a("502b");K["default"].use(H["a"]),K["default"].use(i.a);const Q=Object.assign(J,q),Z="V2018_LANGUAGE",tt=new H["a"]({locale:localStorage.getItem(Z)||"gb",fallbackLocale:"gb",messages:Q,modifiers:{}}),et=t=>tt.tc("COMP."+t.toUpperCase()).toString(),at=console.log,st={initial:{app:{apiService:Object({NODE_ENV:"production",BASE_URL:"/scenario-generator/"}).SERVER||window.location.origin,route:"/",language:localStorage.getItem(Z)||"gb",kanbanDirVert:"true"===localStorage.getItem(z)||!1,theme:localStorage.getItem(M)||"light",note:"",narrative:{},drawer:!1}},actions:(t,e)=>({search:(e,a)=>t({app:{isSearching:e,searchQuery:a}}),changePage:e=>{at("Set route "+e),t({app:{route:e}})},changeLanguage:e=>{at("Set language "+e),tt.locale=e,localStorage.setItem(Z,e),t({app:{language:e}})},changeTheme:e=>{at("Set theme "+e),localStorage.setItem(M,e),t({app:{theme:e}})},importState:e=>{at("Import state");const a=JSON.parse(e);a&&a.scenarios&&a.scenarios.current&&a.scenarios.current.categories&&t({...a,scenarios:{current:{categories:()=>a.scenarios.current.categories}}}),t(a)},exportState:()=>(at("Export state"),JSON.stringify(e.map(t=>Object(p["pickBy"])(t,(t,e)=>"app"!=e)))),changeNarrative:e=>{at("Set narrative "+e.id),e.components=Object.assign(it.reduce((t,e)=>(t[e]=void 0,t),{}),e.components),t({app:{narrative:()=>e}})},updateInconsistencies:e=>{at("Set inconsistencies"),t({scenarios:{current:{inconsistencies:e}}})},notify:e=>{at("Set notification"),t({app:{note:e}})},toggleDrawer:e=>{at("ToggleDrawer: "+e),t({app:{drawer:e}})},setDirection:e=>{localStorage.setItem(z,e.toString()),t({app:{kanbanDirVert:e}})}})},it=["Access","Action","Actor","AvailableBudget","BehaviourDuringPreparation","Capabilities","CompartmentsPresent","CriminalPhase","Duration","Equipment","ExistingInfra","Impact","Intent","Location","Means","MeansWeapon","ModusOperandiDuringExecution","Motivation","OpenCompartments","PeopleDensity","Persons","PhysicalAngleOfAttackDuringExecution","PI","PrivacyAwareness","RelationOwnerObjectAndOwnerSecuritySystem","Responsibility","SecurityAwareness","TargetType","ThreatDirection","TypeOfEnvironment","TypeOfObject","WeatherBehaviour","WeatherType"],nt=[...it,"scenarios"],ot={};it.forEach(t=>ot[t]=W(t));const rt=W("scenarios"),ct={initial:Object.assign({},st.initial,rt.initial,...Object.values(ot).map(t=>t.initial)),actions:(t,e)=>Object.assign({},st.actions(t,e),rt.actions(t,e),...Object.values(ot).map(a=>a.actions(t,e)))},lt=Object(L["stream"])(),dt=Object(L["scan"])($,ct.initial,lt),pt=ct.actions(lt,dt),ut={actions:pt,states:dt};let ht=class extends c["c"]{constructor(){super(),this.file=null,this.fileJson=""}async openFiles(){return new Promise((t,e)=>{if(this.file){const a=new FileReader;a.addEventListener("load",()=>{this.file=null,a.result?t(a.result.toString()):e()}),a.readAsText(this.file)}else console.warn("No files selected"),this.file=null,e()})}async importItem(){console.log("Import");try{this.fileJson=await this.openFiles(),this.$store.actions.importState(this.fileJson),nt.forEach(async t=>{this.$store.actions.hasOwnProperty(t)&&await this.$store.actions[t].saveList()})}catch(B){console.warn("No files uploaded")}this.$emit("close")}async exportItem(){console.log("Export");let t=this.$store.actions.exportState();const e=new Blob([""+t],{type:"text/plain;charset=utf-8"});P.a.saveAs(e,`scenario-${Object(k["a"])(new Date,"yyyy-MM-dd'T'HH_mm_ss")}.json`),this.$emit("close")}async cancel(){this.$emit("close")}mounted(){}};ht=Object(r["a"])([Object(c["a"])({components:{}})],ht);var vt=ht,mt=vt,gt=(a("360c"),Object(m["a"])(mt,x,I,!1,null,"a8f9f088",null)),ft=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[t.activeNarrative?a("v-card-title",{staticClass:"delete-card",attrs:{dense:""}},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.DELETE",{item:t.$tc("COMP.NARRATIVE")})))+" '"+t._s(t.activeNarrative.name)+"' ")]):t._e(),a("v-card-text",{staticClass:"pb-0"},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.ARE_YOU_SURE")))+" ")]),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.NO"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteItem}},[t._v(" "+t._s(t.$t("APP.YES"))+" ")])],1)],1)},yt=[];let Ot=class extends c["c"]{constructor(){super(),this.scenario={},this.activeNarrative=null}cancel(){this.$emit("close")}deleteItem(){if(!this.activeNarrative||!this.scenario||!this.scenario.id)return;const t=this.activeNarrative.id,e=this.$store.states().scenarios,a=e&&e.current,s=a&&a.narratives,i=s&&s.length&&t&&s.sort((t,e)=>t.name>e.name?1:-1).filter(e=>e.id!==t).pop()||{name:""};console.log("Deleting "+this.activeNarrative.name),this.$store.actions.scenarios.delNarrative(this.scenario.id,t),this.$store.actions.changeNarrative(i),this.$emit("close")}async mounted(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.activeNarrative=t.app.narrative||{}})}};Ot=Object(r["a"])([Object(c["a"])({components:{}})],Ot);var Ct=Ot,_t=Ct,Et=(a("4384"),Object(m["a"])(_t,bt,yt,!1,null,"283c8f75",null)),Nt=Et.exports;let Tt=class extends c["c"]{constructor(){super(...arguments),this.languages=["gb","nl"],this.activeLanguage="",this.themes=["light","dark"],this.scenarios=[],this.activeTheme="",this.activeScenario={},this.activeNarrative={},this.menu=!1,this.importMenu=!1,this.narMenu=!1,this.drawer=!1}get sortedNarratives(){return this.activeScenario&&this.activeScenario.narratives?Object(p["sortBy"])(this.activeScenario.narratives,"name"):[]}drawerChanged(t){!1===t&&this.closeDrawer()}async languageChanged(){this.$store.actions.changeLanguage(this.activeLanguage)}async themeChanged(){this.$store.actions.changeTheme(this.activeTheme)}async narrativeSelected(){this.$store.actions.changeNarrative(this.activeNarrative)}async closeMenu(){this.menu=!1}async closeImportMenu(){this.importMenu=!1}async closeNarMenu(){this.narMenu=!1}activeScenarioName(){!this.activeScenario.name||this.activeScenario.name}closeDrawer(){this.$store.actions.toggleDrawer(!1)}async mounted(){console.log("navigation mounted"),this.$store.states.map(t=>{this.activeLanguage=t.app.language,this.activeTheme=t.app.theme,this.scenarios=t.scenarios.list||[],this.activeScenario=t.scenarios.current||{},this.activeNarrative=t.app.narrative||{}}),this.$store.states.map(t=>{this.drawer=t.app.drawer})}};Tt=Object(r["a"])([Object(c["a"])({components:{CountryFlag:i.a,EditComponentCard:A,ImportExportCard:ft,DeleteCard:Nt}})],Tt);var At=Tt,xt=At,It=(a("0b8f"),Object(m["a"])(xt,b,y,!1,null,"614f9ea5",null)),kt=It.exports;let St=class extends c["c"]{constructor(){super(),this.theme="",this.scenarios=[],this.activeScenario={},this.note="",this.snackbar=!1,console.log(nt),nt.forEach(async t=>{this.$store.actions.hasOwnProperty(t)&&this.$store.actions[t].updateList()})}scenariosUpdated(){!this.activeScenario&&this.scenarios&&this.scenarios.length>0&&this.$store.actions["scenarios"].load(this.scenarios[0].id||"")}activeScenarioUpdated(){this.activeScenario&&this.activeScenario.id&&(this.$store.states().app.narrative&&this.$store.states().app.narrative.id||this.activeScenario.narratives&&this.activeScenario.narratives.length>0&&this.$store.actions.changeNarrative(this.activeScenario.narratives[0]))}snackbarUpdated(t){t||this.$store.actions.notify("")}noteUpdated(t){t&&""!=t&&(this.snackbar=!0)}themeUpdated(t){this.$vuetify.theme.dark="dark"===t}routeUpdated(t){"/"+this.$store.states().app.route!==t.path&&this.$store.actions.changePage(t.path)}mounted(){this.$store.states.map(t=>{this.theme=t.app.theme,this.note=t.app.note,this.scenarios=t.scenarios.list,this.activeScenario=t.scenarios.current})}};Object(r["a"])([Object(c["d"])("scenarios")],St.prototype,"scenariosUpdated",null),Object(r["a"])([Object(c["d"])("activeScenario")],St.prototype,"activeScenarioUpdated",null),Object(r["a"])([Object(c["d"])("snackbar")],St.prototype,"snackbarUpdated",null),Object(r["a"])([Object(c["d"])("note")],St.prototype,"noteUpdated",null),Object(r["a"])([Object(c["d"])("theme")],St.prototype,"themeUpdated",null),Object(r["a"])([Object(c["d"])("$route")],St.prototype,"routeUpdated",null),St=Object(r["a"])([Object(c["a"])({components:{AppBar:f,NavigationDrawer:kt}})],St);var Pt=St,wt=Pt,jt=(a("034f"),Object(m["a"])(wt,n,o,!1,null,null,null)),$t=jt.exports,Lt=a("4eae"),Rt=a.n(Lt),Dt=a("bbcb"),Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height",attrs:{lg:"10",sm:"12",cols:"12"}},[a("div",{staticClass:"markdown-tekst",domProps:{innerHTML:t._s(t.getMarkdown())}})])],1)],1)},zt=[],Vt='# V2018 Scenario Generator\r\n\r\nOne of the challenges in the domain of safety and security is to stand guard against unknown threats. As we have seen in the recent past, terrorists and other criminals continuously come up with new ways to attack our society. Therefore, in order to better prepare ourselves, we have to come up with creative threat scenarios, and think outside-the-box, so to speak. This is easier said than done, as recent experiences often limit our creativity. This scenario generator is developed to remedy this situation. It generates many threat scenarios for you, and when you have found one to your liking, you can add a narrative and save it for future reference.\r\n\r\n## The concept\r\n\r\nThe idea behind the scenario generator is simple. A threat scenario consists of two aspects:\r\n\r\n- Threat: defining the dimensions of the threat itself, such as the perpetrators, the impact that they have, their motivations and modus operandi.\r\n- Context: defining the dimensions of the circumstances that surround the threat or attack, such as the location, the weather conditions, or the budget that is available to them.\r\n\r\nIn this tool, you can specify the dimensions for threat and context, as well as the values that each dimension takes. For example, the context dimension weather can have a value of rainy or sunny and the treat dimension actor can have a value of terrorist or criminal. Together, it is possible to create 4 scenarios, as shown in below table:\r\n\r\n| Threat \\ Context | rainy      | sunny      |\r\n| ---------------- | ---------- | ---------- |\r\n| terrorist        | scenario 1 | scenario 2 |\r\n| criminal         | scenario 3 | scenario 4 |\r\n\r\nIn other words, scenario 1 is about a terrorist on a rainy day, scenario 2 about a terrorist on a sunny day, etc.\r\n\r\nIn case you have only two dimensions, the scenario generation is rather limited, but we normally use 10~15 dimensions for threat as well as context, in which case the number of scenarios one can generate is very large. Typical usage is to either generate a number of scenarios that span the dimension uniformly, and next to select the ones that make sense to you, or alternatively, to generate a single scenario at a time, and save the ones that appeal to you. Here, the latter approach is followed.\r\n\r\nIn order to limit the possible combinations of all dimensions, this tool allows you to:\r\n\r\n- Lock certain dimensions: for example, in case you are only interested in scenarios that involve a specific hotel in a specific city, you can select the value and lock it, so it will never change, and all scenarios that are generated will be in this hotel in that city.\r\n- Disallow or discourage certain combinations: for example, a drone attack during a rainy day is not very likely, so you can define it as unlikely or impossible in the \'consistencies\' table. When set, scenarios that combine a drone attack with a rainy day will not occur anymore.\r\n\r\nAfter generating scenarios one at a time, and saving the ones that appeal to you, the last and optional final step is to add a narrative to the generated scenario. Additionally, in case it is relevant for the current scenario, locations and objects of interest can also be shown on the map. For example, if the scenario takes place in a hotel in The Hague, NL, the map displays the city of The Hague, including the hotels (thanks to OpenStreetMap).\r\n\r\n## How to use it\r\n\r\nThe scenario generator is setup as a wizard:\r\n\r\n1. Define the dimensions of the threat and context that you consider important.\r\n   <br><a target="_blank" href="https://user-images.githubusercontent.com/11523459/102987973-87349f00-4513-11eb-88ac-97549b2bc492.png">![Dimensions](https://user-images.githubusercontent.com/11523459/102987973-87349f00-4513-11eb-88ac-97549b2bc492.png)</a>\r\n2. Set all inconsistencies between dimensions: most combinations are typically allowed, so specify the few that you do not want to see, or only seldom.\r\n   <br><a target="_blank" href="https://user-images.githubusercontent.com/11523459/102987978-87cd3580-4513-11eb-9521-e00b764a6913.png">![Consistencies](https://user-images.githubusercontent.com/11523459/102987978-87cd3580-4513-11eb-9521-e00b764a6913.png)</a>\r\n3. Use the generator to generate a scenario, i.e. a combination of threat and context dimensions. You can optionally lock certain dimensions, e.g. the location or the actor, while varying the rest on each turn. When an interesting combination is found, save it under a new name, and optionally add a narrative.\r\n   <br><a target="_blank" href="https://user-images.githubusercontent.com/11523459/102987979-8865cc00-4513-11eb-8f4a-795cf8f59940.png">![Create scenario](https://user-images.githubusercontent.com/11523459/102987979-8865cc00-4513-11eb-8f4a-795cf8f59940.png)</a>\r\n4. Inspect and present all generated scenarios, which are also shown on the map. On this page, you can also print a scenario using the regular CTRL-P option.\r\n   <br><a target="_blank" href="https://user-images.githubusercontent.com/11523459/102987981-8865cc00-4513-11eb-8d4a-47d6ed58754c.png">![Show scenario](https://user-images.githubusercontent.com/11523459/102987981-8865cc00-4513-11eb-8d4a-47d6ed58754c.png)</a>\r\n\r\n## Further information\r\n\r\nThis tool was developed by TNO for the Dutch gendarmerie (KMAR) and National Police. For more information, please contact [Erik Vullings, PhD MSc](mailto:erik.vullings@tno.nl)\r\n\r\n## Advanced\r\n\r\nAdding extra dimensions requires some manual editing of the code and a JSON file, there is not a simpler way yet.\r\n\r\nIssues with the tool can be reported on <a href="https://github.com/tnocs/scenario-generator" target="_blank">Github</a>\r\n',Ut=a("85df");let Gt=class extends c["c"]{getMarkdown(){const t=Vt,e=Object(Ut["a"])(t,!0);return console.log(e),e}mounted(){console.log("AboutView mounted")}};Gt=Object(r["a"])([Object(c["a"])({components:{}})],Gt);var Bt=Gt,Ft=Bt,Yt=(a("48e6"),Object(m["a"])(Ft,Mt,zt,!1,null,null,null)),Xt=Yt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"no-scroll full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-width full-height",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"full-height",attrs:{md:"12",cols:"12"}},[a("splitpanes",{staticClass:"full-height",attrs:{vertical:""}},[a("pane",{staticClass:"pa-0",attrs:{"min-size":"10",size:"50"}},[a("splitpanes",{staticClass:"full-height",attrs:{horizontal:""}},[a("pane",{staticClass:"pa-2",attrs:{"min-size":"10",size:"60"}},[a("NarrativeComponentsVert")],1),a("pane",{staticClass:"pa-2",attrs:{"min-size":"10",size:"40"}},[a("ScenarioTextVert"),a("v-btn",{staticClass:"d-flex ma-4 ml-8 btn-right",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.copyToClipboard}},[a("v-icon",[t._v("mdi-clipboard-arrow-up-outline")]),t._v(" "+t._s("  "+t.$t("APP.COPY"))+" ")],1)],1)],1)],1),a("pane",{staticClass:"pa-2",attrs:{"min-size":"10",size:"50"}},[a("MapCard")],1)],1)],1)],1)],1)},Kt=[],Ht=(a("b538"),a("6763")),Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card map-full-height map-full-width no-background",staticStyle:{"min-height":"500px"},attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline pl-6 pr-2 pb-0 pt-1"},[t._v(" "+t._s(t.$tc("APP.LOCATION"))+" "),a("v-tooltip",{attrs:{left:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("span",t._g(t._b({staticStyle:{float:"right"}},"span",i,!1),s),[a("v-btn",{attrs:{icon:""},on:{click:t.toggleMapLayer}},[a("v-icon",[t._v("mdi-map")])],1)],1)]}}])},[a("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.TOGGLE_MAP_BASE"))))])])],1),a("div",{staticClass:"map-card-height map-card-full-width"},[t.loading?a("div",{staticClass:"pr-cir"},[a("v-progress-circular",{attrs:{indeterminate:"",size:150,color:"primary"}})],1):t._e(),a("div",{staticClass:"map-overlay-coords"},[t._v(t._s(t.pointer))]),a("vl-map",{staticStyle:{height:"100%"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0,"data-projection":"EPSG:4326"},on:{pointermove:t.pointerMove,click:t.mapClick,postrender:t.mapRendered}},[a("vl-view",{attrs:{zoom:t.zoom,center:t.center},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){t.center=e}}}),t.active?a("vl-interaction-select",[t.active.id_?a("vl-overlay",{key:t.active.id_,attrs:{id:t.active.id_,position:t.pointOnSurface(t.active.getGeometry()),offset:[2,2]}},[a("p",{staticClass:"cardcontent",attrs:{"auto-pan":!0},on:{click:t.closePopup}},[a("strong",[t._v(t._s(t.active.get("name")))])])]):t._e()],1):t._e(),a("vl-layer-tile",{attrs:{id:"xyz"}},[a("vl-source-xyz",{attrs:{url:t.url}})],1),a("vl-layer-vector",{attrs:{"z-index":99}},[a("vl-source-vector",{attrs:{features:t.features}},[a("vl-style-box",[a("vl-style-circle",{attrs:{radius:10}},[a("vl-style-fill",{attrs:{color:[255,20,22,.8]}}),a("vl-style-stroke",{attrs:{color:[20,250,22,.8]}})],1),a("vl-style-icon",{attrs:{src:t.iconUrl,scale:.8,anchor:[.5,.5]}})],1)],1)],1),a("vl-layer-vector",{attrs:{"z-index":98}},[a("vl-source-vector",{attrs:{features:t.features}},[a("vl-style-box",[a("vl-style-circle",{attrs:{radius:24}},[a("vl-style-fill",{attrs:{color:[20,20,252,.1]}}),a("vl-style-stroke",{attrs:{color:[255,255,255,.8],width:3}})],1)],1)],1)],1)],1)],1)])},qt=[],Qt=a("12f1"),Zt=a("7a04");const te="https://github.com/rinzeb/osm-icons/raw/master/png/osm{{ITEM}}.png";let ee=class extends c["c"]{constructor(){super(...arguments),this.narrative={},this.scenario={},this.locations={},this.typeOfObjects={},this.iconUrl="https://github.com/rinzeb/osm-icons/raw/master/png/osmairport.png",this.loading=!1,this.url="https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",this.urls=["https://{a-c}.basemaps.cartocdn.com/rastertiles/dark_all/{z}/{x}/{y}.png","https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"],this.zoom=8,this.center=[5.2,52.3],this.features=[],this.pointer="",this.active=null,this.initialized=!1,this.zoomMap=Object(p["throttle"])(this.zoomMapThrottled,500,{trailing:!0}),this.pointerMove=Object(p["throttle"])(this.pointerMoveThrottled,50,{trailing:!0}),this.updateMap=Object(p["debounce"])(this.updateMapThrottled,500)}narrChanged(){this.updateMap()}mapClick(t){this.toggleFeature(t.pixel,t.map)}toggleFeature(t,e){let a=!1;e.forEachFeatureAtPixel(t,t=>{a||(this.active&&this.active.id_==t.id_?(this.active=null,a=!0):(this.active=t,a=!0),console.log("Open/close "+t.get("name")))}),a||(this.active=null)}mapRendered(t){this.initialized||(this.map=t.map,this.map.updateSize(),this.initialized=!0)}closePopup(t){this.active=null}pointOnSurface(...t){return Object(Qt["W"])(t[0].getCoordinates(),"EPSG:3857","EPSG:4326")}toggleMapLayer(){this.url===this.urls[0]?this.url=this.urls[1]:this.url=this.urls[0],this.map.updateSize()}getIcon(t){let e="building";if(t&&t.components){const a=Object(p["pick"])(t.components,"TypeOfObject"),s=a&&Object(p["find"])(this.typeOfObjects.list,t=>t.id===a.TypeOfObject),i=s&&s.context;i&&(Object.keys(i.data).pop().includes("levels")||(e=""+Object.values(i.data).pop()))}return te.replace("{{ITEM}}",e)}zoomMapThrottled(){if(!this.features||this.features.length<1)return;let t;t=1===this.features.length?this.features[0]:Object(Zt["center"])(Object(Zt["bboxPolygon"])(Object(Zt["bbox"])({type:"FeatureCollection",features:this.features}))),t&&t.geometry&&t.geometry.coordinates&&(this.center=[t.geometry.coordinates[0],t.geometry.coordinates[1]],this.zoom=14)}pointerMoveThrottled(t){this.pointer=`Lat: ${t.coordinate[1].toFixed(4)}, Lon: ${t.coordinate[0].toFixed(4)}`}addFeatures(t){this.loading=!1,console.log(`Received ${t.features.length} features`);const e=[];t.features.forEach(t=>{e.push(t)}),setTimeout(()=>{c["c"].set(this,"features",e),this.zoomMap()},100)}updateMapThrottled(){if(console.log("Update map data"),this.loading=!0,this.features.length>0&&this.features.splice(0,this.features.length),this.narrative&&this.narrative.id){const t=Object(p["pick"])(this.narrative.components,"Location"),e=t&&Object(p["find"])(this.locations.list,e=>e.id===t.Location),a=e&&e.context,s=Object(p["pick"])(this.narrative.components,"TypeOfObject"),i=s&&Object(p["find"])(this.typeOfObjects.list,t=>t.id===s.TypeOfObject),n=i&&i.context;if(this.loading=!1,!a&&!n)return this.$store.actions.notify(this.$t("APP.NO_LOCATION_CONTEXT").toString()),console.log("Could not find loc in narrative "+this.narrative.name);if(a&&n&&e)return this.getLocationAndLocationTypeResults(n,a,e);if(a&&e)return this.getLocationOnly(a,e);if(n&&i)return this.getLocationOnly(n,i)}}getLocationAndLocationTypeResults(t,e,a){const s=this.getAmenityQuery(t);if("LOCATION"===e.type){const t=e.data;if(t.hasOwnProperty("NAME"))this.$overpass.getGeojsonFromQuery(t.NAME||a.name||"",s,this.addFeatures);else if(t.hasOwnProperty("COORDINATES")){const e=t.COORDINATES.split(",").map(t=>+t);this.$overpass.getGeojsonFromCoordinates(e,s,this.addFeatures)}}else this.$store.actions.notify(this.$t("APP.NO_LOCATION_CONTEXT").toString()),console.log("No location context found"),this.loading=!1}getLocationOnly(t,e){if("LOCATION"===t.type){const a=t.data;if(a.hasOwnProperty("NAME"))this.$overpass.getNominatimLocation(a.NAME||e.name||"").then(t=>{t&&(this.center=[+t.lon,+t.lat],this.zoom=15)});else if(a.hasOwnProperty("COORDINATES")){const t=a.COORDINATES.split(",").map(t=>+t);this.center=[t[1],t[0]],this.zoom=14}}else this.$store.actions.notify(this.$t("APP.NO_LOCATION_CONTEXT").toString()),console.log("No location context found"),this.loading=!1}getAmenityQuery(t){return t.data&&Object.keys(t.data).pop().includes("levels")?`${Object.keys(t.data).pop()}~${Object.values(t.data).pop()}`:`${Object.keys(t.data).pop()}=${Object.values(t.data).pop()}`}init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current||{},this.locations=t.Location,this.typeOfObjects=t.TypeOfObject,this.narrative=t.app.narrative||{},this.iconUrl=this.getIcon(t.app.narrative)})}async mounted(){this.init(),setTimeout(()=>this.updateMap(),250)}};Object(r["a"])([Object(c["d"])("narrative")],ee.prototype,"narrChanged",null),ee=Object(r["a"])([Object(c["a"])({components:{}})],ee);var ae=ee,se=ae,ie=(a("fbbd"),Object(m["a"])(se,Jt,qt,!1,null,null,null)),ne=ie.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s(t.$tc("APP.DESCRIPTION")))]),t.subtitle&&t.subtitle.length>0?a("div",{staticClass:"px-4 pt-0 pb-2 v-card__text"},[t._v(" "+t._s(t.subtitle)+" ")]):t._e(),a("v-divider"),a("v-card-text",{staticClass:"text-description"},[a("div",{domProps:{innerHTML:t._s(t.html)}}),a("v-divider",{staticClass:"my-6"})],1)],1)},re=[];let ce=class extends c["c"]{constructor(){super(),this.actors=[]}async mounted(){await this.$store.actions.scenarios.updateList()}};Object(r["a"])([Object(c["b"])({default:""})],ce.prototype,"html",void 0),Object(r["a"])([Object(c["b"])({default:""})],ce.prototype,"subtitle",void 0),ce=Object(r["a"])([Object(c["a"])({components:{}})],ce);var le=ce,de=le,pe=(a("4b6f"),Object(m["a"])(de,oe,re,!1,null,"7c9d6b15",null)),ue=pe.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"mt-0 overflow-y-auto full-height",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"full-height",attrs:{cols:"12"}},[a("v-card-text",{staticClass:"text-description ma-0 pa-4 full-height"},[t.narrative&&t.narrative.id?a("div",{staticClass:"full-height"},[a("div",{staticClass:"scenario-narrative full-height",domProps:{innerHTML:t._s(t.getMarkdown(t.narrative.narrative))}})]):t._e()])],1)],1)},ve=[];let me=class extends c["c"]{constructor(){super(),this.narrative={}}async init(){this.$store.states.map(t=>{this.narrative=t.app.narrative})}getMarkdown(t){return Object(Ut["a"])(t)}async mounted(){console.log("ScenarioText mounted"),await this.init()}};me=Object(r["a"])([Object(c["a"])({components:{}})],me);var ge=me,fe=ge,be=(a("41cf"),Object(m["a"])(fe,he,ve,!1,null,null,null)),ye=be.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"mt-0 overflow-y",attrs:{"no-gutters":""}},t._l(t.categoryNames,(function(e){return a("v-col",{key:e,attrs:{xs:12/t.categoryNames.length,cols:12/t.categoryNames.length}},[a("div",{staticClass:"overline pl-2 pr-2 pb-0 pt-1"},[t._v(" "+t._s(e)+" ")]),a("v-card",{staticClass:"no-background"},[a("v-card-text",{staticClass:"pa-0"},[t.scenario&&t.narrative.components?a("div",{staticClass:"narr-table"},[a("v-simple-table",{staticClass:"mb-2 mr-2",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left bold--text"},[t._v(t._s(t._f("capitalize")(t.$tc("APP.DIMENSION"))))]),a("th",{staticClass:"text-left bold--text more-padding"},[t._v(t._s(t._f("capitalize")(t.$t("APP.SELECTED"))))])])]),a("tbody",{staticClass:"category-table"},[t._l(t.getNarrativeComponents(e),(function(e,s){return a("tr",{key:e},[a("td",{staticClass:"catname"},[t._v(t._s(t._f("capitalize")(t._f("translateCollectionName")(s))))]),a("td",[a("v-tooltip",{attrs:{right:"","open-delay":t.getTooltip(e,s)?200:1e4},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[a("div",t._g({},n),[t._v(t._s(t.getCollectionVal(e,s)))])]}}],null,!0)},[a("span",[t._v(t._s(t.getTooltip(e,s)))])])],1)])}))],2)]},proxy:!0}],null,!0)})],1):t._e()])],1)],1)})),1)},Ce=[];let _e=class extends c["c"]{constructor(){super(),this.scenario={},this.narrative={},this.collections=null,this.categoryNames=[],this.categories={}}async init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.narrative=t.app.narrative,this.categories=this.scenario&&this.scenario.categories?this.scenario.categories:{},this.categoryNames=Object.keys(this.categories||[]),this.collections=t})}getNarrativeComponents(t){const e=this.categories[t],a=it.filter(t=>e.includes(t)).sort((t,a)=>{const s=e.indexOf(t),i=e.indexOf(a);return s>i?1:-1});return a.reduce((t,e)=>(t[e]=this.narrative.components[e],t),{})}getCollectionVal(t,e){const a=this.collections&&this.collections[e]&&this.collections[e].list,s=a?a.find(e=>e.id===t):void 0;return s&&s.name?s.name:"?"}getTooltip(t,e){const a=this.collections&&this.collections[e]&&this.collections[e].list,s=a?a.find(e=>e.id===t):void 0;return s&&s.desc?s.desc:""}getCollectionNames(t){return it.filter(e=>this.categories[t].includes(e))}async mounted(){await this.init()}};_e=Object(r["a"])([Object(c["a"])({components:{}})],_e);var Ee=_e,Ne=Ee,Te=(a("18fc"),Object(m["a"])(Ne,Oe,Ce,!1,null,"4468905d",null)),Ae=Te.exports;const xe=({body:t,title:e="TNO Scenario generator",desc:a="Output from TNO's scenario generator",css:s=""})=>`\n<!doctype html>\n\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n\n  <title>${e}</title>\n  <meta name="description" content="${a}">\n  <meta name="author" content="TNO">\n\n  <meta property="og:title" content="${e}">\n  <meta property="og:type" content="website">\n  <meta property="og:url" content="https://tnocs.github.io/scenario-generator/">\n  <meta property="og:description" content="${a}">\n\n  ${s}\n</head>\n\n<body>\n  \x3c!-- your content here... --\x3e\n  ${t}\n</body>\n</html>\n`,Ie="<style>\ntd, th {\n  border: 1px solid black;\n  padding: 0.5rem;\n}\nth {\n  background-color:#999;\n}\ntable {\n  font-family: Calibri;\n  font-size: 8pt;\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0.5rem;\n}\n</style>";let ke=class extends c["c"]{constructor(){super(...arguments),this.panels=[0,1,2]}mounted(){console.log("Show mounted")}copyToClipboard(){const t=this.$store.states(),e=t.scenarios.current,a=e&&e.categories,s=a&&Object.keys(a),i=t.app.narrative;if(!s||!a||!i)return;const n=1===s.length,o=n?"# "+Object(p["capitalize"])(i.name):`# ${Object(p["capitalize"])(i.name)}\n## ${Object(p["capitalize"])(this.$tc("APP.DIMENSION",2))}`,r=`|${Object(p["capitalize"])(this.$tc("APP.DIMENSION"))}|${Object(p["capitalize"])(this.$tc("APP.SELECTED"))}|`,c="|-----|-----|",l=s.map(e=>{const s=a[e],o=i.components,l=s.map(e=>{const a=t[e],s=a&&a.list&&a.list.filter(t=>t.id===o[e]).shift();return s&&`| ${Object(p["capitalize"])(this.$tc("COMP."+e.toUpperCase()))} | ${s.name} |`}).join("\n"),d=`\n${r}\n${c}\n${l}`;return`${n?"##":"###"} ${e} ${this.$tc("APP.DIMENSION")}\n${d}`}).join("\n\n"),d=`## ${Object(p["capitalize"])(this.$tc("COMP.NARRATIVE"))} (${this.$tc(i.included?"APP.NARRATIVE_INCLUDED":"APP.NARRATIVE_NOT_INCLUDED")})\n\n${i.narrative.replace(/(#+)/g,"$1##")}`,u=`${o}\n\n${l}\n\n${d}`;console.log(u);const h=Object(Ut["a"])(u);function v(t){t.clipboardData&&(t.clipboardData.setData("text/html",xe({body:h,css:Ie})),t.clipboardData.setData("text/plain",u),t.preventDefault())}document.addEventListener("copy",v),document.execCommand("copy"),document.removeEventListener("copy",v)}};ke=Object(r["a"])([Object(c["a"])({components:{Splitpanes:Ht["Splitpanes"],Pane:Ht["Pane"],DescriptionCard:ue,NarrativeComponentsVert:Ae,MapCard:ne,ScenarioTextVert:ye}})],ke);var Se=ke,Pe=Se,we=(a("abb8"),Object(m["a"])(Pe,Wt,Kt,!1,null,"6fc867ec",null)),je=we.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height pa-2",attrs:{md:"12",cols:"12"}},[a("ScenarioGenerator")],1)],1)],1)},Le=[],Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"flex-card generate-card",staticStyle:{background:"transparent",overflow:"auto"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s("1. "+t.$t("APP.GENERATE",{item:t.$tc("APP.SCENARIO")})))]),a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[a("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:""}},[a("v-row",{staticClass:"d-flex",attrs:{"no-gutters":""}},[a("v-btn",{staticClass:"d-flex ma-4",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.generateNarrative}},[t._v(" "+t._s(t.$t("APP.GENERATE",{item:t.$tc("APP.SCENARIO")}))+" ")]),a("v-btn",{staticClass:"d-flex ma-4",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.newNarrative}},[t._v(" "+t._s(t.$t("APP.EMPTY",{item:t.$tc("APP.SCENARIO")}))+" ")]),a("v-spacer"),a("v-btn",{staticClass:"d-flex ma-4 ml-8 btn-right",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.copyToClipboard}},[a("v-icon",[t._v("mdi-clipboard-arrow-up-outline")]),t._v(" "+t._s("  "+t.$t("APP.COPY"))+" ")],1),a("v-btn",{staticClass:"d-flex ma-4 ml-8 btn-right",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.saveNarrative}},[a("v-icon",{staticClass:"pr-2"},[t._v("mdi-content-save")]),t._v(" "+t._s(t.$t("APP.PIN",{item:t.$tc("APP.SCENARIO")}))+" ")],1)],1),a("v-row",{staticClass:"mt-1 full-width",attrs:{"no-gutters":""}},t._l(t.categoryNames,(function(e){return a("v-col",{key:e,staticClass:"pl-2",attrs:{xs:12/t.categoryNames.length,cols:12/t.categoryNames.length}},[a("v-card",[a("v-card-title",{attrs:{dense:""}},[t._v(" "+t._s(e)+" ")]),a("v-card-text",{staticClass:"pa-0"},[t.collections?a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left bold--text small-col"},[a("v-tooltip",{attrs:{right:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-icon",t._g(t._b({attrs:{small:""},on:{click:function(e){return t.toggleNeglected()}}},"v-icon",i,!1),s),[t._v(" mdi-eye-check ")])]}}],null,!0)},[a("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.INCLUDE_ALL"))))])])],1),a("th",{staticClass:"text-left bold--text"},[t._v(t._s(t._f("capitalize")(t.$tc("APP.DIMENSION",1))))]),a("th",{staticClass:"text-left bold--text more-padding"},[a("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.SELECTED"))))]),a("span",{staticClass:"close-icon-span"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",i,!1),s),[t._v(" mdi-close ")])]}}],null,!0)},[a("span",[t._v(" "+t._s(t.$t("APP.EXPLAIN_CLEAR_ICON")))])])],1)]),a("th",{staticClass:"text-left bold--text small-col pr-8"},[a("v-tooltip",{attrs:{right:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-icon",t._g(t._b({attrs:{small:""},on:{click:function(e){return t.togglePinned()}}},"v-icon",i,!1),s),[t._v(" mdi-lock-open-outline ")])]}}],null,!0)},[a("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.UNLOCK_ALL"))))])])],1)])]),a("tbody",{staticClass:"category-table"},[t._l(t.categories[e],(function(e){return a("tr",{key:e,class:{"neglected-cat":t.neglected.includes(e),"pinned-cat":t.pinned.includes(e)}},[a("td",{staticClass:"small-col"},[a("v-tooltip",{attrs:{right:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on,n=s.attrs;return[a("span",t._g(t._b({},"span",n,!1),i),[t.neglected.includes(e)?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.toggleNeglected(e)}}},[t._v(" mdi-eye-off-outline ")]):a("v-icon",{attrs:{small:""},on:{click:function(a){return t.toggleNeglected(e)}}},[t._v("mdi-eye-outline")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.DIMENSION_INCLUDED"))))])])],1),a("td",{staticClass:"catname"},[t._v(t._s(t._f("capitalize")(t._f("translateCollectionName")(e))))]),a("td",{staticClass:"py-1 combobox"},[a("v-tooltip",{attrs:{right:"","open-delay":t.getTooltip(e)?100:1e5},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on,n=s.attrs;return[a("div",t._g(t._b({},"div",n,!1),i),[a("v-select",{directives:[{name:"show",rawName:"v-show",value:!t.neglected.includes(e),expression:"!neglected.includes(cat)"}],attrs:{items:t.collections[e].list,"item-text":"name","item-value":"id",clearable:"",solo:"",dense:"","hide-details":""},model:{value:t.answers[e],callback:function(a){t.$set(t.answers,e,a)},expression:"answers[cat]"}})],1)]}}],null,!0)},[a("span",[t._v(t._s(t.getTooltip(e)))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.neglected.includes(e),expression:"neglected.includes(cat)"}],staticClass:"pl-4"},[t._v("-")])],1),a("td",{staticClass:"small-col pr-8"},[a("v-tooltip",{attrs:{right:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on,n=s.attrs;return[a("span",t._g(t._b({},"span",n,!1),i),[t.pinned.includes(e)?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.togglePinned(e)}}},[t._v(" mdi-lock-outline ")]):a("v-icon",{attrs:{small:""},on:{click:function(a){return t.togglePinned(e)}}},[t._v("mdi-lock-open-variant-outline")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t._f("capitalize")(t.$t("APP.UNLOCK_ONE"))))])])],1)])}))],2)]},proxy:!0}],null,!0)}):t._e()],1)],1)],1)})),1)],1)],1)],1),a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s("2. "+t.$t("APP.WRITE_NARRATIVE")))]),a("v-card-text",{staticClass:"text-description ma-0 pa-1 d-flex"},[a("v-text-field",{staticClass:"name-field pb-2",attrs:{"hide-details":"",label:t._f("capitalize")(t.$t("APP.TITLE"))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveNarrative.apply(null,arguments)},blur:t.saveNarrative},model:{value:t.narrativeName,callback:function(e){t.narrativeName=e},expression:"narrativeName"}}),a("v-checkbox",{attrs:{label:""+(t.included?t.$t("APP.NARRATIVE_INCLUDED"):t.$t("APP.NARRATIVE_NOT_INCLUDED"))},model:{value:t.included,callback:function(e){t.included=e},expression:"included"}})],1)],1),a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[a("v-textarea",{attrs:{filled:"",hint:t._f("capitalize")(t.$tc("COMP.NARRATIVE"))},model:{value:t.narrativeText,callback:function(e){t.narrativeText=e},expression:"narrativeText"}})],1)],1),a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"d-flex ma-2 ml-0",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.saveNarrative}},[a("v-icon",{staticClass:"pr-2"},[t._v("mdi-content-save")]),t._v(" "+t._s(t.$t("APP.PIN",{item:t.$tc("APP.SCENARIO")}))+" ")],1)],1)])],1),a("v-row",{staticClass:"mt-8"})],1)},De=[];const Me=5e3;let ze=class extends c["c"]{constructor(){super(),this.scenario={},this.rows=[],this.collections=null,this.categoryNames=[],this.categories={},this.answers={},this.neglected=[],this.pinned=[],this.generated=!1,this.included=!1,this.narrativeName="",this.narrativeText="",this.narrative={}}narrativeChanged(t){t&&(console.log("narrativeChanged to "+t.id),this.narrativeName=t.name||"",this.narrativeText=t.narrative||"",this.included=t.included||!1,t.components||(t.components={}),this.answers=Object.assign({},t.components),this.pinned=Object.keys(this.answers))}async init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.rows.length=0,it.forEach(t=>{this.rows.push(t)}),this.categories=this.scenario&&this.scenario.categories?this.scenario.categories:{},this.categoryNames=Object.keys(this.categories||[]),this.collections=t,this.narrative=t.app.narrative})}getCategoryRows(t){return this.rows.filter(e=>this.categories[t].includes(e))}getRandom(t){if(!this.collections)return"None";const e=this.collections[t].list;if(e&&0!==e.length){const t=Object(p["random"])(e.length-1),a=e[t];return a&&a.id?a.id:"None"}return"None"}newNarrative(){this.narrativeText="",this.answers={},this.neglected.length=0,this.pinned.length=0}togglePinned(t){if(t){const e=this.pinned.indexOf(t);e>=0?this.pinned.splice(e,1):this.pinned.push(t)}else this.pinned.length>0?this.pinned.splice(0,this.pinned.length):(this.pinned.splice(0,this.pinned.length),this.rows.forEach(t=>this.pinned.push(t)))}toggleNeglected(t){if(t){const e=this.neglected.indexOf(t);e>=0?this.neglected.splice(e,1):(this.neglected.push(t),c["c"].delete(this.answers,t))}else this.neglected.length=0}generateNarrative(){console.log("generate");let t=!1,e=0;while(!t&&e<Me){e+=1;for(const t in this.categories){const e=this.categories[t];for(const t in e){const a=e[t];this.neglected.includes(a)||this.pinned.includes(a)||c["c"].set(this.answers,a,this.getRandom(a))}}t=this.isScenarioValid(),t?console.log("Valid scenario generated in iteration "+e):e==Me&&(console.log(`No valid scenario generated after ${e} iterations. Giving up...`),this.$store.actions.notify(this.$t("APP.NO_VALID_SCENARIO",{count:e}).toString()),this.answers={})}this.generated=!this.generated}isScenarioValid(){const t=this.scenario&&this.scenario.inconsistencies?this.scenario.inconsistencies:[],e=Object.values(this.answers).filter(t=>!!t),a=t.filter(t=>e.includes(t.ids[0])&&e.includes(t.ids[1]));console.log(a);const s=a.some(t=>"totally"===t.type||"partly"===t.type&&Math.random()>.15);return console.log(s),!s}async saveNarrative(){if(console.log("Pin narrative"),!this.scenario)return;this.scenario.narratives?this.scenario.narratives=this.scenario.narratives.filter(t=>t.id!=this.narrativeName):this.scenario.narratives=[];let t={},e=it.reduce((t,e)=>(t[e]=void 0,t),t);e=Object.assign(e,this.answers);const a={id:this.narrativeName,name:this.narrativeName,components:e,narrative:this.narrativeText,included:this.included};this.scenario.narratives.push(a),this.$store.actions["scenarios"].save(this.scenario),this.scenario.id&&this.$store.actions["scenarios"].load(this.scenario.id),this.$store.actions.changeNarrative(a)}getTooltip(t){const e=this.collections&&this.collections[t],a=this.answers[t],s=e&&a&&e.list&&e.list.filter(t=>t.id===a).pop();return s&&s.desc||""}copyToClipboard(){const t=this.$store.states(),e=t.scenarios.current,a=e&&e.categories,s=a&&Object.keys(a),i=t.app.narrative;if(!s||!a||!i)return;const n=`|${Object(p["capitalize"])(this.$tc("APP.DIMENSION"))}|${Object(p["capitalize"])(this.$tc("APP.SELECTED"))}|`,o="|-----|-----|",r=s.map(e=>{const s=a[e],r=i.components,c=s.map(e=>{const a=t[e],s=a&&a.list&&a.list.filter(t=>t.id===r[e]).shift();return s&&`| ${Object(p["capitalize"])(this.$tc("COMP."+e.toUpperCase()))} | ${s.name} |`}).join("\n");return`\n${n}\n${o}\n${c}`}).join("\n\n"),c=""+r,l=Object(Ut["a"])(c);function d(t){t.clipboardData&&(t.clipboardData.setData("text/html",xe({body:l,css:Ie})),t.clipboardData.setData("text/plain",c),t.preventDefault())}document.addEventListener("copy",d),document.execCommand("copy"),document.removeEventListener("copy",d)}mounted(){console.log("ScenarioGenerator mounted"),this.init()}};Object(r["a"])([Object(c["d"])("narrative")],ze.prototype,"narrativeChanged",null),ze=Object(r["a"])([Object(c["a"])({components:{}})],ze);var Ve=ze,Ue=Ve,Ge=(a("d07b"),Object(m["a"])(Ue,Re,De,!1,null,null,null)),Be=Ge.exports;let Fe=class extends c["c"]{init(){this.$store.states.map(t=>{if(!t.scenarios.current&&t.scenarios.list&&t.scenarios.list.length>0){const e=t.scenarios.list[0].id;e&&this.$store.actions.scenarios.load(e)}})}mounted(){console.log("ScenarioView mounted"),this.init()}};Fe=Object(r["a"])([Object(c["a"])({components:{ScenarioGenerator:Be}})],Fe);var Ye=Fe,Xe=Ye,We=(a("2174"),Object(m["a"])(Xe,$e,Le,!1,null,"386e1eb2",null)),Ke=We.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height",attrs:{md:"12",cols:"12"}},[a("KanbanLists",{attrs:{"vertical-direction":t.verticalDirection}})],1)],1)],1)},Je=[],qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"float-right btn-right mr-2 mt-1",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.copyToClipboard}},[a("v-icon",[t._v("mdi-clipboard-arrow-up-outline")]),t._v(" "+t._s("  "+t.$t("APP.COPY"))+" ")],1),a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"blue"}}),t._l(t.categoryNames,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.categories,(function(e,s){return a("v-tab-item",{key:s},[a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s(t.$tc("APP.DIMENSION",2)))]),a("v-card-text",{staticClass:"text-description ma-0 pa-2"},[t.verticalDirection?a("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"kanban-col",attrs:{"no-gutters":""}},t._l(t.getCategoryRows(s),(function(e,s){return a("v-col",{key:s,staticClass:"my-1 elevation-1",staticStyle:{"max-width":"280px"}},[a("KanbanList",{attrs:{itemkey:e,"vertical-direction":t.verticalDirection}})],1)})),1)],1):t._e(),t.verticalDirection?t._e():a("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},t._l(t.getCategoryRows(s),(function(t,e){return a("v-row",{key:e,staticClass:"kanban-col",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"my-1 elevation-1",attrs:{cols:"12"}},[a("KanbanList",{attrs:{itemkey:t}})],1)],1)})),1)],1)],1)],1)})),1)],1)},Qe=[],Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",attrs:{dense:"",flat:"",tile:"",color:"secondary"}},[t.verticalDirection?a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"9"}},[a("span",{staticClass:"title text-truncate"},[t._v(t._s(t._f("capitalize")(t.title)))])]),a("v-col",{attrs:{cols:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ml-4",attrs:{color:"accent darken-1",fab:"",small:"",elevation:"2"}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-plus")])],1)]}}],null,!1,1466968221),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("AddComponentCard",{attrs:{itemkey:t.itemkey},on:{close:t.closeMenu}})],1)],1),a("v-col",{staticClass:"py-1 pl-1",attrs:{cols:"12"}},[a("div",{staticClass:"text-description px-2 hor-overflow"},[a("Container",{attrs:{orientation:"vertical"},on:{drop:t.onDrop}},t._l(t.items,(function(e,s){return a("Draggable",{key:s,staticClass:"min-width-card"},[a("KanbanCard",{attrs:{item:e,itemkey:t.itemkey,"is-included":t.includedComponents.indexOf(e.id)>=0}})],1)})),1)],1)])],1)],1):t._e(),t.verticalDirection?t._e():a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"py-2 pl-0 divider-r",attrs:{cols:"2"}},[a("span",{staticClass:"title"},[t._v(t._s(t._f("capitalize")(t.title)))]),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-4 add-button",attrs:{color:"accent darken-1",fab:"",small:"",elevation:"2"}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-plus")])],1)]}}],null,!1,302475737),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("AddComponentCard",{attrs:{itemkey:t.itemkey},on:{close:t.closeMenu}})],1)],1),a("v-col",{staticClass:"py-1 pl-1",attrs:{cols:"10"}},[a("div",{staticClass:"text-description px-2 hor-overflow"},[a("Container",{attrs:{orientation:"horizontal"},on:{drop:t.onDrop}},t._l(t.items,(function(e,s){return a("Draggable",{key:s,staticClass:"min-width-card"},[a("KanbanCard",{attrs:{item:e,itemkey:t.itemkey,"is-included":t.includedComponents.indexOf(e.id)>=0}})],1)})),1)],1)])],1)],1)],1)},ta=[],ea=a("1571"),aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card ma-1 kanban-card",attrs:{tile:"",elevation:"2",color:t.isIncluded?"#FF7800":"#5FB0C7"}},[a("v-card-title",{staticClass:"px-4 pt-2 pb-0 k-c-title"},[a("div",{staticClass:"k-c-title-text"},[t._v(t._s(t.item.name))]),a("v-spacer"),a("div",{staticClass:"only-on-hover"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("div",t._g(t._b({},"div",i,!1),s),[a("v-icon",{attrs:{color:"secondary",small:""}},[t._v("mdi-pencil")])],1)]}}]),model:{value:t.editMenu,callback:function(e){t.editMenu=e},expression:"editMenu"}},[a("EditComponentCard",{attrs:{itemkey:t.itemkey,itemid:t.item.id,itemname:t.item.name,itemdesc:t.item.desc,lockName:!1},on:{close:t.closeEditMenu}})],1)],1)],1),a("v-card-text",{staticClass:"text-description"},[t.hasContext(t.item)?a("div",{staticClass:"not-on-hover"},[a("span",{staticClass:"secondary--text"},[t._v(" "+t._s(t.getContext(t.item)))])]):t._e(),a("div",{staticClass:"only-on-hover"},[a("span",{staticClass:"secondary--text"},[t._v(" "+t._s(t.item.desc||t.item.name))]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("div",t._g(t._b({},"div",i,!1),s),[a("v-icon",{attrs:{color:"secondary",small:""}},[t._v("mdi-note-plus-outline")]),a("span",{staticClass:"secondary--text"},[t._v(" "+t._s(t.getContext(t.item)))])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("AddContextCard",{attrs:{item:t.item},on:{close:t.closeMenu}})],1)],1)])],1)},sa=[],ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"add-context-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.ADD",{item:"context"}))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-select",{attrs:{items:t.types},on:{change:t.typeSelected},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}}),"LOCATION"==t.activeType?a("div",[a("v-select",{attrs:{items:t.locationTypes},model:{value:t.activeLocationType,callback:function(e){t.activeLocationType=e},expression:"activeLocationType"}}),"NAME"==t.activeLocationType?a("div",[a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$t("APP.VALUE"))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem.apply(null,arguments)}},model:{value:t.activeVal,callback:function(e){t.activeVal=e},expression:"activeVal"}})],1):"COORDINATES"==t.activeLocationType?a("div",[a("v-text-field",{attrs:{type:"number",label:"Latitude"},model:{value:t.activeLat,callback:function(e){t.activeLat=e},expression:"activeLat"}}),a("v-text-field",{attrs:{type:"number",label:"Longitude"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem.apply(null,arguments)}},model:{value:t.activeLon,callback:function(e){t.activeLon=e},expression:"activeLon"}})],1):t._e()],1):"LOCATIONTYPE"==t.activeType?a("div",[a("v-select",{attrs:{items:t.locationTypeTypes},model:{value:t.activeLocationTypeType,callback:function(e){t.activeLocationTypeType=e},expression:"activeLocationTypeType"}}),"LIST"==t.activeLocationTypeType?a("div",[a("v-select",{attrs:{items:t.osmTypes,"item-text":"name","return-object":""},model:{value:t.activeOsmType,callback:function(e){t.activeOsmType=e},expression:"activeOsmType"}})],1):"CUSTOM"==t.activeLocationTypeType?a("div",[a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.KEY"))},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}}),a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.VALUE"))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem.apply(null,arguments)}},model:{value:t.activeVal,callback:function(e){t.activeVal=e},expression:"activeVal"}})],1):t._e()],1):a("div",[a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.KEY")),disabled:""}}),a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.VALUE")),disabled:""}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.CANCEL"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addItem}},[t._v(" "+t._s(t.$t("APP.SAVE"))+" ")])],1)],1)},na=[];const oa=["NONE","LOCATION","LOCATIONTYPE"],ra=["NAME","COORDINATES"],ca=["LIST","CUSTOM"],la=[{name:"Airport",key:"aeroway",value:"aerodrome"},{name:"Cafe",key:"amenity",value:"bar"},{name:"Church",key:"building",value:"church"},{name:"City square",key:"place",value:"square"},{name:"Flats",key:'"building:levels"',value:'"([6-9]|d{2,})"'},{name:"Gas station",key:"amenity",value:"fuel"},{name:"Hospital",key:"amenity",value:"hospital"},{name:"Hotel",key:"tourism",value:"hotel"},{name:"Palace",key:"castle_type",value:"palace"},{name:"Parking",key:"amenity",value:"parking"},{name:"Restaurant",key:"amenity",value:"restaurant"},{name:"Shopping street",key:"highway",value:"pedestrian"},{name:"Stadspoort",key:"historic",value:"city_gate"},{name:"Statue",key:"memorial",value:"statue"}];let da=class extends c["c"]{constructor(){super(),this.types=[...oa],this.locationTypes=[...ra],this.activeLocationType="NAME",this.locationTypeTypes=[...ca],this.activeLocationTypeType="LIST",this.osmTypes=la,this.activeOsmType={},this.activeType="NONE",this.activeLat=0,this.activeLon=0,this.activeKey="",this.activeVal="",this.newContext={type:"NONE",data:{}}}itemChanged(){console.log("Item changed"),this.resetNewItem(),this.item&&this.item.context&&(this.activeType=this.item.context.type,"LOCATION"===this.activeType?(this.activeLocationType=Object.keys(this.item.context.data).shift()||"NAME",this.activeVal=Object.values(this.item.context.data).shift()||"","COORDINATES"===this.activeLocationType&&(this.activeLat=this.activeVal.includes(",")?+this.activeVal.split(",").shift():0,this.activeLon=this.activeVal.includes(",")?+this.activeVal.split(",").pop():0)):"LOCATIONTYPE"===this.activeType?(this.activeLocationTypeType="CUSTOM",this.activeKey=Object.keys(this.item.context.data).shift()||"",this.activeVal=Object.values(this.item.context.data).shift()||""):(this.activeKey=Object.keys(this.item.context.data).shift()||"",this.activeVal=Object.values(this.item.context.data).shift()||""))}typeSelected(){this.newContext={type:this.activeType,data:{}}}async addItem(){this.newContext.type=this.activeType,"LOCATION"===this.activeType?"COORDINATES"===this.activeLocationType?this.newContext.data[this.activeLocationType]=`${this.activeLat},${this.activeLon}`:this.newContext.data[this.activeLocationType]=this.activeVal:"LOCATIONTYPE"===this.activeType?"CUSTOM"===this.activeLocationTypeType?this.newContext.data[this.activeKey]=this.activeVal:"LIST"===this.activeLocationTypeType&&(this.newContext.data[this.activeOsmType.key]=this.activeOsmType.value):this.newContext.data[this.activeKey]=this.activeVal,this.item.context=Object.assign({},this.newContext),this.$store.actions[this.item.type].save(this.item),this.$emit("close")}resetNewItem(){this.activeKey="",this.activeVal="",this.activeType="NONE"}async cancel(){this.$emit("close")}async mounted(){console.log("Add context card mounted"),this.itemChanged()}};Object(r["a"])([Object(c["b"])({default:()=>({})})],da.prototype,"item",void 0),Object(r["a"])([Object(c["d"])("item",{deep:!0})],da.prototype,"itemChanged",null),da=Object(r["a"])([Object(c["a"])({components:{}})],da);var pa=da,ua=pa,ha=(a("b40b"),Object(m["a"])(ua,ia,na,!1,null,"dc0c3aa0",null)),va=ha.exports;let ma=class extends c["c"]{constructor(){super(),this.menu=!1,this.editMenu=!1}hasContext(t){return!!t&&!!t.context&&!!t.context.type}getContext(t){return t&&t.context&&t.context.type?t.context.type:this.$options.filters&&this.$options.filters.capitalize(this.$t("APP.ADD_CONTEXT"))}async selectItem(){this.item.type&&this.item.id&&this.$store.actions[this.item.type].load(this.item.id)}async deleteItem(){this.item.type&&this.item.id&&this.$store.actions[this.item.type].del(this.item.id)}closeMenu(){this.menu=!1}closeEditMenu(){this.editMenu=!1}mounted(){}};Object(r["a"])([Object(c["b"])({default:()=>({})})],ma.prototype,"item",void 0),Object(r["a"])([Object(c["b"])({default:""})],ma.prototype,"itemkey",void 0),Object(r["a"])([Object(c["b"])({default:void 0})],ma.prototype,"isIncluded",void 0),ma=Object(r["a"])([Object(c["a"])({components:{AddContextCard:va,EditComponentCard:A}})],ma);var ga=ma,fa=ga,ba=(a("1718"),Object(m["a"])(fa,aa,sa,!1,null,"94e18a78",null)),ya=ba.exports,Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"add-component-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.ADD",{item:this.getTranslateKey()}))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$t("APP.NAME")),autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem.apply(null,arguments)}},model:{value:t.newItem.name,callback:function(e){t.$set(t.newItem,"name",e)},expression:"newItem.name"}}),a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$tc("APP.DESCRIPTION",1))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem.apply(null,arguments)}},model:{value:t.newItem.desc,callback:function(e){t.$set(t.newItem,"desc",e)},expression:"newItem.desc"}}),a("v-text-field",{attrs:{label:"Type",disabled:""},model:{value:t.newItem.type,callback:function(e){t.$set(t.newItem,"type",e)},expression:"newItem.type"}},[t._v("itemkey")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.CANCEL"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addItem}},[t._v(" "+t._s(t.$t("APP.SAVE"))+" ")])],1)],1)},Ca=[];let _a=class extends c["c"]{constructor(){super(),this.newItem={}}getTranslateKey(){return this.$tc("COMP."+this.itemkey.toUpperCase())}resetNewItem(){this.newItem={name:"",type:this.itemkey,id:V()}}async addItem(){this.$store.actions[this.itemkey].save(this.newItem),this.resetNewItem(),this.$emit("close")}async cancel(){this.resetNewItem(),this.$emit("close")}async mounted(){this.resetNewItem()}};Object(r["a"])([Object(c["b"])({default:""})],_a.prototype,"itemkey",void 0),_a=Object(r["a"])([Object(c["a"])({components:{}})],_a);var Ea=_a,Na=Ea,Ta=(a("46b8"),Object(m["a"])(Na,Oa,Ca,!1,null,"7217cfed",null)),Aa=Ta.exports;let xa=class extends c["c"]{constructor(){super(),this.items=[],this.title="",this.language="",this.menu=!1,this.includedComponents=[]}itemkeyChanged(){this.init()}languageChanged(){this.setTitle()}async setTitle(){this.itemkey&&this.itemkey.length&&(this.title=this.$tc("COMP."+this.itemkey.toLocaleUpperCase(),2)||this.itemkey)}init(){if(!this.itemkey||!this.itemkey.length)return;let t;this.setTitle(),this.$store.actions[this.itemkey].updateList(),this.$store.states.map(e=>{this.items=e[this.itemkey].list||[],this.language=e.app.language,t=e.scenarios.current}),this.extractUsedComponents(t)}async closeMenu(){this.menu=!1}extractUsedComponents(t){this.includedComponents=this.itemkey&&t&&t.narratives&&t.narratives.length?t.narratives.filter(t=>t.included).map(t=>t.components[this.itemkey]):[]}onDrop(t){const{removedIndex:e,addedIndex:a}=t;e!==a&&(this.items.splice(a,0,this.items.splice(e,1)[0]),this.$store.actions[this.itemkey].saveList(this.items))}mounted(){console.log("KanbanList mounted"),this.init()}};Object(r["a"])([Object(c["b"])({default:""})],xa.prototype,"itemkey",void 0),Object(r["a"])([Object(c["b"])({default:!1})],xa.prototype,"verticalDirection",void 0),Object(r["a"])([Object(c["d"])("itemkey")],xa.prototype,"itemkeyChanged",null),Object(r["a"])([Object(c["d"])("language")],xa.prototype,"languageChanged",null),xa=Object(r["a"])([Object(c["a"])({components:{Container:ea["Container"],Draggable:ea["Draggable"],KanbanCard:ya,AddComponentCard:Aa}})],xa);var Ia=xa,ka=Ia,Sa=(a("e2a7"),Object(m["a"])(ka,Ze,ta,!1,null,"3621a2e0",null)),Pa=Sa.exports;let wa=class extends c["c"]{constructor(){super(),this.rows=[],this.tab=0,this.categories={},this.categoryNames=[]}getCategoryRows(t){const e=this.categories[t];return this.rows.filter(t=>e.includes(t)).sort((t,a)=>{const s=e.indexOf(t),i=e.indexOf(a);return s>i?1:-1})}copyToClipboard(){const t=this.categories[this.categoryNames[this.tab]],e=this.$store.states(),a=e.scenarios.current,s=a&&a.narratives&&a.narratives.filter(t=>t.included),i=t.reduce((t,e)=>(t[e]=s?s.map(t=>t.components[e]):[],t),{}),n=(t,e)=>i[t].indexOf(e.id||"")>=0?`**${e.name}**`:e.name,o=`|${t.map(t=>Object(p["capitalize"])(this.$tc("COMP."+t.toLocaleUpperCase(),2)||t)).join("|")}|`,r=`|${t.map(t=>":-----:").join("|")}|`,c=t.reduce((t,a)=>{const s=e[a];return s&&s.list?Math.max(t,s.list.length):t},0),l=Object(p["range"])(c).map(a=>`|${t.map(t=>{const s=e[t];return s&&s.list&&s.list.length>a?n(t,s.list[a]):""}).join("|")}|`).join("\n"),d=`\n${o}\n${r}\n${l}`,u=Object(Ut["a"])(d);function h(t){t.clipboardData&&(t.clipboardData.setData("text/html",xe({body:u,css:Ie})),t.clipboardData.setData("text/plain",d),t.preventDefault())}document.addEventListener("copy",h),document.execCommand("copy"),document.removeEventListener("copy",h)}async init(){this.$store.states.map(t=>{this.verticalDirection=t.app.kanbanDirVert,this.rows.length=0,it.forEach(t=>{this.rows.push(t)}),this.categories=t.scenarios.current&&t.scenarios.current.categories?t.scenarios.current.categories:{},this.categoryNames=Object.keys(this.categories||[])})}getCardPayload(t){return console.log("getCardPayload "+t),t}async mounted(){console.log("KanbanLists mounted"),await this.init()}};wa=Object(r["a"])([Object(c["a"])({components:{KanbanList:Pa}})],wa);var ja=wa,$a=ja,La=(a("6e85"),Object(m["a"])($a,qe,Qe,!1,null,"4c836b84",null)),Ra=La.exports;let Da=class extends c["c"]{constructor(){super(...arguments),this.verticalDirection=!1}mounted(){console.log("DimensionsView mounted"),this.$store.states.map(t=>{this.verticalDirection=t.app.kanbanDirVert})}kanbanDirVertUpdated(t){this.verticalDirection=t}};Object(r["a"])([Object(c["d"])("kanbanDirVert")],Da.prototype,"kanbanDirVertUpdated",null),Da=Object(r["a"])([Object(c["a"])({components:{KanbanLists:Ra}})],Da);var Ma=Da,za=Ma,Va=Object(m["a"])(za,He,Je,!1,null,"bab0862a",null),Ua=Va.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height",attrs:{md:"12",cols:"12"}},[a("ConsistencyMatrices")],1)],1)],1)},Ba=[],Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-height"},[a("v-tabs",{on:{change:t.tabChanged},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"blue"}}),t._l(t.categoryNames,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2),a("v-tabs-items",{staticClass:"full-height",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.categories,(function(e,s){return a("v-tab-item",{key:s,staticClass:"full-height"},[a("v-card",{staticClass:"flex-card full-height",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("v-card-text",{staticClass:"text-description ma-0 pa-2 full-height"},[a("v-container",{staticClass:"ma-0 pa-0 full-height",attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"d-flex",attrs:{xs:"12",md:"6"}},[a("span",{staticClass:"title pt-4"},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.COMBINATIONS")))+" ")]),a("span",{staticClass:"ml-8 mb-2"},[a("v-select",{staticClass:"sel-dim",attrs:{label:t._f("capitalize")(t.$t("APP.SELECT_DIMENSION")),items:t.getCategoryRowsMap(s)},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1)]),a("v-col",{staticClass:"d-flex",attrs:{xs:"12",md:"6"}},[a("div",{staticClass:"d-block pb-4"},[a("span",{staticClass:"d-block"},[a("v-icon",{staticClass:"pr-1"},[t._v("mdi-checkbox-marked")]),t._v(t._s(t.$t("APP.CONSISTENT")))],1),a("span",{staticClass:"d-block"},[a("v-icon",{staticClass:"pr-1"},[t._v("mdi-checkbox-blank-outline")]),t._v(t._s(t.$t("APP.INCONSISTENT")))],1),a("span",{staticClass:"d-block"},[a("v-icon",{staticClass:"pr-1"},[t._v("mdi-checkerboard")]),t._v(t._s(t.$t("APP.PARTLY_CONSISTENT"))+" ")],1)])])],1),t.scenario?a("v-row",{staticClass:"full-height-min-select",attrs:{"no-gutters":""}},[a("TableCard",{attrs:{category:t.selectedCategory,othercategories:t.getCategoryRows(s),inconsistencies:t.scenario.inconsistencies}})],1):t._e()],1)],1)],1)],1)})),1)],1)},Ya=[],Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"full-width full-height table-card"},[a("v-card-text",{staticClass:"pa-0 full-width full-height-min-title"},[a("v-container",{staticClass:"ma-0 pa-0 full-height",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":""}},[t.collections?a("v-col",{staticClass:"full-height"},[a("v-simple-table",{staticClass:"full-height",attrs:{dense:"","fixed-header":"",height:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left bold--text"},[t._v(t._s(t._f("capitalize")(t.$tc("APP.DIMENSION"))))]),a("th",{staticClass:"text-left bold--text more-padding"},[t._v(t._s(t._f("capitalize")(t.$tc("APP.NAME"))))]),t._l(t.items,(function(e){return a("th",{key:e.id,staticClass:"text-left"},[t._v(t._s(t._f("capitalize")(e.name)))])}))],2)]),a("tbody",{staticClass:"consistency-table"},[t._l(t.otherCategoriesWithoutSelected(),(function(e){return t._l(t.collections[e].list,(function(s){return a("tr",{key:s.id},[a("td",[t._v(t._s(t._f("capitalize")(t.$tc("COMP."+e.toLocaleUpperCase()))))]),a("td",{staticClass:"more-padding"},[t._v(t._s(t._f("capitalize")(s.name)))]),t._l(t.items,(function(e){return a("td",{key:e.id},[a("TableSelectButton",{attrs:{contentId:s.id,hiId:e.id,consType:t.consType(s.id,e.id)},on:{changeconsistency:t.changeconsistency}})],1)}))],2)}))}))],2)]},proxy:!0}],null,!1,2090336190)})],1):t._e()],1)],1)],1)],1)},Wa=[],Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tooltip",{attrs:{right:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.changeCons()}}},"v-btn",i,!1),s),[a("v-icon",[t._v(t._s(t.icon))])],1)]}}])},[a("span",[t._v(t._s(t.$t(t.tooltipTxt)))])])},Ha=[];let Ja=class extends c["c"]{constructor(){super(),this.icon="mdi-checkbox-blank-outline",this.tooltipTxt=""}async changeCons(){this.consistencyType="totally"===this.consistencyType?"partly":"partly"===this.consistencyType?void 0:"totally",this.$emit("changeconsistency",this.contentId,this.hiId,this.consistencyType),await this.update()}async update(){this.icon="partly"===this.consistencyType?"mdi-checkerboard":"totally"===this.consistencyType?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",this.tooltipTxt="partly"===this.consistencyType?"APP.PARTLY_CONSISTENT":"totally"===this.consistencyType?"APP.CONSISTENT":"APP.INCONSISTENT"}async mounted(){this.consistencyType=this.consType,await this.update()}};Object(r["a"])([Object(c["b"])({type:String,default:null})],Ja.prototype,"consType",void 0),Object(r["a"])([Object(c["b"])({type:String,default:""})],Ja.prototype,"contentId",void 0),Object(r["a"])([Object(c["b"])({type:String,default:""})],Ja.prototype,"hiId",void 0),Ja=Object(r["a"])([Object(c["a"])({components:{}})],Ja);var qa=Ja,Qa=qa,Za=Object(m["a"])(Qa,Ka,Ha,!1,null,null,null),ts=Za.exports;const es=(t,e)=>a=>a.ids.indexOf(t)>=0&&a.ids.indexOf(e)>=0;let as=class extends c["c"]{constructor(){super(),this.items=[],this.collections=null,this.alwaysTrue=!0}categoryChanged(t){console.log("categoryChanged to "+t),this.init()}otherCategoriesWithoutSelected(){return this.othercategories.filter(t=>t!=this.category)}consType(t,e){const a=this.inconsistencies.filter(es(t,e)).pop();return a?a.type:void 0}changeconsistency(t,e,a){if(console.log({fromId:t,toId:e,consType:a}),console.time("Change consistencies"),a){const s=this.inconsistencies.filter(es(t,e)).pop();s?s.type=a:this.inconsistencies.push({ids:[t,e],type:a})}else{const a=this.inconsistencies.findIndex(es(t,e));a>=0&&this.inconsistencies.splice(a,1)}console.timeEnd("Change consistencies"),this.$store.actions.updateInconsistencies(this.inconsistencies)}async init(){this.$store.states.map(t=>{this.items=this.category&&t[this.category].list||[],this.collections=t})}async mounted(){console.log("Table card mounted"),await this.init()}};Object(r["a"])([Object(c["b"])({default:null})],as.prototype,"category",void 0),Object(r["a"])([Object(c["b"])({default:()=>[]})],as.prototype,"othercategories",void 0),Object(r["a"])([Object(c["b"])({default:()=>[]})],as.prototype,"inconsistencies",void 0),Object(r["a"])([Object(c["d"])("category")],as.prototype,"categoryChanged",null),as=Object(r["a"])([Object(c["a"])({components:{TableSelectButton:ts}})],as);var ss=as,is=ss,ns=(a("ec7f"),Object(m["a"])(is,Xa,Wa,!1,null,null,null)),os=ns.exports;let rs=class extends c["c"]{constructor(){super(),this.tab=0,this.scenario={},this.rows=[],this.categories={},this.categoryNames=[],this.selectedCategory=null}inconsistenciesChanged(){this.$store.actions["scenarios"].save(this.scenario)}tabChanged(t){console.log(t),this.selectedCategory=Object.values(this.categories)[t][0]}getCategoryRows(t){return this.rows.filter(e=>this.categories[t].includes(e))}getCategoryRowsMap(t){return this.rows.filter(e=>this.categories[t].includes(e)).map(t=>({text:et(t),value:t}))}async init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current||this.scenario,this.scenario&&!this.scenario.inconsistencies&&(this.scenario.inconsistencies=[]),this.rows.length=0,it.forEach(t=>{this.rows.push(t)}),this.categories=this.scenario&&this.scenario.categories?this.scenario.categories:{},this.selectedCategory=this.selectedCategory?this.selectedCategory:this.rows.length>0?this.rows[0]:null,this.categoryNames=Object.keys(this.categories||[])})}async mounted(){console.log("ConsistencyMatrices mounted"),await this.init()}};Object(r["a"])([Object(c["d"])("scenario.inconsistencies")],rs.prototype,"inconsistenciesChanged",null),rs=Object(r["a"])([Object(c["a"])({components:{TableCard:os}})],rs);var cs=rs,ls=cs,ds=(a("90f7"),Object(m["a"])(ls,Fa,Ya,!1,null,null,null)),ps=ds.exports;let us=class extends c["c"]{mounted(){console.log("ConsistencyView mounted")}};us=Object(r["a"])([Object(c["a"])({components:{ConsistencyMatrices:ps}})],us);var hs=us,vs=hs,ms=Object(m["a"])(vs,Ga,Ba,!1,null,"48c7bc8a",null),gs=ms.exports;K["default"].use(Dt["a"]);var fs=new Dt["a"]({base:"/dashboard/",routes:[{path:"/",redirect:{name:"dimensions"}},{path:"/add",name:"dimensions",component:Ua},{path:"/consistency",name:"consistency",component:gs},{path:"/create",name:"create",component:Ke},{path:"/show",name:"show",component:je},{path:"/about",name:"about",component:Xt}]}),bs=(a("032a"),a("6373")),ys=(a("b1e5"),a("ee76")),Os=a.n(ys),Cs=a("8063"),_s=a.n(Cs),Es=a("7303"),Ns=a.n(Es);const Ts=1.5,As=5;class xs{constructor(){this.nominatim="https://nominatim.openstreetmap.org/search?limit=10&",this.overpass=Os.a}getQueryboxFromCoordinates(t,e){const a=this.createFeature(t,{}),s=Object(Zt["buffer"])(a,e,{units:"kilometers"}),i=Object(Zt["bbox"])(s);return{minlat:+i[0],minlon:+i[1],maxlat:+i[2],maxlon:+i[3]}}getQueryboxFromQuery(t,e){const a=Object(Zt["buffer"])(Object(Zt["center"])(this.createFeature([+t.lat,+t.lon],{})),e,{units:"kilometers"}),s=Object(Zt["bbox"])(a);return{minlat:+s[0],minlon:+s[1],maxlat:+s[2],maxlon:+s[3]}}async getGeojsonFromCoordinates(t,e,a){let s=this.getQueryboxFromCoordinates(t,Ts);this.getGeojson(s,e,i=>{i&&i.features&&0!==i.features.length?a(i):(console.log("Extending search radius to "+As),s=this.getQueryboxFromCoordinates(t,As),this.getGeojson(s,e,a))})}async getNominatimLocation(t){const e=_s.a.stringify({q:t,format:"json"}),a=await Ns.a.get(`${this.nominatim}${e}`),s=a.data;if(s&&s.length)return s.shift();console.warn("Nothing found for "+t)}async getGeojsonFromQuery(t,e,a){const s=await this.getNominatimLocation(t);if(!s)return a({type:"FeatureCollection",features:[]});let i=this.getQueryboxFromQuery(s,Ts);this.getGeojson(i,e,t=>{t&&t.features&&0!==t.features.length?a(t):(console.log("Extending search radius to "+As),i=this.getQueryboxFromQuery(s,As),this.getGeojson(i,e,a))})}async getGeojson(t,e,a){const s=`[out:json];(node(${t.minlat},${t.minlon},${t.maxlat},${t.maxlon})[${e}];way(${t.minlat},${t.minlon},${t.maxlat},${t.maxlon})[${e}];relation(${t.minlat},${t.minlon},${t.maxlat},${t.maxlon})[${e}];);out center 10;`;console.log(s),this.overpass(s,(t,e)=>{t?(console.log(t),a({type:"FeatureCollection",features:[]})):(console.log(e),e.features.forEach(t=>{t.properties=t.properties||{},delete t.properties.geometry,t.properties.name=t.properties["tags"]&&t.properties["tags"]["name"]||"?"}),a(e))})}createFeature(t,e){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{name:e&&e["tags"]&&e["tags"]["name"]||"?"}}}}K["default"].config.productionTip=!1,K["default"].prototype.$store=ut,K["default"].prototype.$overpass=new xs,K["default"].use(Rt.a),K["default"].use(bs["a"],{dataProjection:"EPSG:4326"}),K["default"].use(i.a),K["default"].filter("uppercase",t=>t?(t=t.toString(),t.toUpperCase()):""),K["default"].filter("capitalize",t=>t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""),K["default"].filter("trim",t=>t?t.trim():""),K["default"].filter("translateCollectionName",t=>t?et(t):"");const Is=new Rt.a({icons:{iconfont:"mdi"},theme:{dark:!1,themes:{light:{accent:"#5FB0C7",secondary:"#ddeced"},dark:{accent:"#3f798a",secondary:"#223132"}}}});e["default"]=new K["default"]({vuetify:Is,router:fs,i18n:tt,render:t=>t($t)}).$mount("#app")},cfa4:function(t,e,a){"use strict";a("27c5")},d07b:function(t,e,a){"use strict";a("d826")},d175:function(t,e,a){},d826:function(t,e,a){},e2a7:function(t,e,a){"use strict";a("8f0a")},ec7f:function(t,e,a){"use strict";a("b666")},ecca:function(t,e,a){},fbbd:function(t,e,a){"use strict";a("bc7a")}});
//# sourceMappingURL=app.253bec14.js.map