(function(t){function e(e){for(var s,o,c=e[0],r=e[1],l=e[2],u=0,p=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,c=1;c<a.length;c++){var r=a[c];0!==i[r]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/scenario-generator/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"032a":function(t,e,a){},"034f":function(t,e,a){"use strict";var s=a("1080"),i=a.n(s);i.a},"076b":function(t,e,a){"use strict";var s=a("fc79"),i=a.n(s);i.a},"08da":function(t,e,a){"use strict";var s=a("5a60"),i=a.n(s);i.a},"0d2a":function(t,e,a){},1:function(t,e){},1080:function(t,e,a){},2:function(t,e){},"22d0":function(t,e,a){},2998:function(t,e,a){"use strict";var s=a("d297"),i=a.n(s);i.a},3:function(t,e){},3121:function(t,e,a){"use strict";var s=a("db1b"),i=a.n(s);i.a},"3e03":function(t,e,a){},4:function(t,e){},"502b":function(t){t.exports=JSON.parse('{"gb":{"APP":{"ACTIVE":"active {item}","ADD":"Add {item}","ADD_CONTEXT":"add context","ADD_DIMENSIONS":"Add dimensions","BUILD_SENTENCE":"Build a sentence structure","CANCEL":"cancel","CONSISTENCIES":"Consistencies","CONSISTENT":"Combinations with these two items are possible","CREATE_SCENARIO":"Create scenario","DESCRIPTION":"description | description","DIMENSION":"dimension | dimensions","DONE":"done","EDIT":"Edit {item}","EMPTY":"leeg {item}","EXPORT":"Export file","FILL_SENTENCE":"Fill the sentence","GENERATE":"Generate {item}","IMPORT":"Import file","IMPORT_EXPORT_TITLE":"Import/export project","INCONSISTENT":"Combinations with these two items are impossible","KEY":"key","LANGUAGE":"language","LOCATION":"location","NAME":"name","PARTLY_CONSISTENT":"Combinations with these two items are improbable","PIN":"save {item}","SAVE":"save","SCENARIO":"Scenario","SELECT_DIMENSION":"select a dimension","SENTENCE":"sentence | sentences","SHOW_SCENARIO":"Show scenario","STRUCTURE":"structure","THEME":"theme","VALUE":"value","WRITE_NARRATIVE":"write a narrative"},"COMP":{"AVAILABLEBUDGET":"budget | budget","CAPABILITIES":"capability | capabilities","COMPARTMENTSPRESENT":"compartments present","DURATION":"duration | durations","EQUIPMENT":"equipment | equipments","EXISTINGINFRA":"existing infra | existing infras","IMPACT":"impact","INTENT":"intent | intents","LOCATION":"location | locations","MODUSOPERANDI":"modus operandus | modus operandi","MOTIVATION":"motivation | motivations","NARRATIVE":"narrative | narratives","OBJECT":"object | objects","OPENCOMPARTMENTS":"open compartment | open compartments","PEOPLEDENSITY":"person density | person densities","PERSONS":"person | persons","PHYSICALANGLEOFATTACK":"physical angle of attack | physical angle of attacks","PHYSICAL_ANGLE":"physical angle | physical angles","PRIVACYAWARENESS":"privacy awareness","RELATIONOWNEROBJECTANDOWNERSECURITYSYSTEM":"relation owner object and owner security system","RESPONSIBILITY":"responsibility | responsibilities","SCENARIOS":"scenario | scenarios","SECURITYAWARENESS":"security awareness","TARGETTYPE":"target type | target types","THREATDIRECTION":"actor | actors","TYPEOFENVIRONMENT":"environment type | environment types","TYPEOFOBJECT":"type of object | type of objects","WEAPON":"weapon | weapons","WEATHERBEHAVIOUR":"weather behaviour | weather behaviours","WEATHERTYPE":"weather condition | weather conditions"},"UTIL":{"A":"a","AN":"an"}}}')},"53e5":function(t,e,a){},"56f6":function(t,e,a){},"596d":function(t,e,a){"use strict";var s=a("8e52"),i=a.n(s);i.a},"5a60":function(t,e,a){},"5c3b":function(t,e,a){"use strict";var s=a("efcd"),i=a.n(s);i.a},"72d4":function(t,e,a){"use strict";var s=a("0d2a"),i=a.n(s);i.a},"76ff":function(t,e,a){t.exports=a.p+"img/words.08a4c398.png"},7824:function(t,e,a){},"7b6c":function(t,e,a){},"87e1":function(t){t.exports=JSON.parse('{"scenarios":[{"id":"demo1","type":"scenarios","category":"SCENARIO","name":"Demo","categories":{"Threat":["ThreatDirection","Impact","Motivation","ModusOperandi","Equipment","Responsibility"],"Context":["WeatherType","WeatherBehaviour","TypeOfObject","AvailableBudget","OpenCompartments","Location"]}}],"ThreatDirection":["Hannibal","The Romans","Verweggistan"],"Impact":["Low","Medium","High"],"Motivation":["Money","Justice","Revenge"],"ModusOperandi":["Sniper attack","Kidnapping","Singing"],"Equipment":["None","Drone","Bomb","Helicopter","Hammer"],"Responsibility":["Private","Public"],"WeatherType":["Rainy","Sunny","Windy","Cloudy"],"WeatherBehaviour":["Stable","Changing"],"TypeOfObject":["Church","Park","Palace","Airport"],"AvailableBudget":["Knowledge","Water"],"OpenCompartments":["Open","Closed"],"Location":["Vietnam","Washington","Buitenpost"]}')},"8af2":function(t){t.exports=JSON.parse('{"nl":{"APP":{"ACTIVE":"actief {item}","ADD":"{item} toevoegen","ADD_CONTEXT":"voeg context toe","ADD_DIMENSIONS":"voeg dimensies toe","BUILD_SENTENCE":"Bouw een zinsstructuur","CANCEL":"cancel","CONSISTENCIES":"Consistenties","CONSISTENT":"Combinaties met deze twee items zijn mogelijk","CREATE_SCENARIO":"creÃ«er scenario","DESCRIPTION":"beschrijving | beschrijvingen","DIMENSION":"dimensie | dimensies","DONE":"klaar","EDIT":"{item} bewerken","EMPTY":"leeg {item}","EXPORT":"Exporteer bestand","FILL_SENTENCE":"Vul de zin in","GENERATE":"Genereer {item}","IMPORT":"Importeer bestand","IMPORT_EXPORT_TITLE":"Importeer/exporteer project","INCONSISTENT":"Combinaties met deze twee items zijn uitgesloten","KEY":"key","LANGUAGE":"taal","LOCATION":"lokatie","NAME":"naam","PARTLY_CONSISTENT":"Combinaties met deze twee items zijn onwaarschijnlijk","PIN":"bewaar {item}","SAVE":"opslaan","SCENARIO":"scenario","SELECT_DIMENSION":"selecteer een dimensie","SENTENCE":"zin | zinnen","SHOW_SCENARIO":"toon scenario","STRUCTURE":"structuur","THEME":"thema","VALUE":"value","WRITE_NARRATIVE":"schrijf een narratief"},"COMP":{"AVAILABLEBUDGET":"budget | budget","CAPABILITIES":"capability | capabilities","COMPARTMENTSPRESENT":"aanwezige compartimenten","DURATION":"duur| duur","EQUIPMENT":"uitrusting | uitrustingen","EXISTINGINFRA":"bestaande infra | bestaande infras","IMPACT":"impact","INTENT":"intent | intents","LOCATION":"locatie | locaties","MODUSOPERANDI":"modus operandus | modus operandi","MOTIVATION":"motivatie | motivaties","NARRATIVE":"narratief | narratieven","OBJECT":"object | objecten","OPENCOMPARTMENTS":"open compartiment | open compartimenten","PEOPLEDENSITY":"personendichtheid | personendichtheden","PERSONS":"persoon | personen","PHYSICALANGLEOFATTACK":"fysieke aanvalshoek | fysieke aanvalshoeken","PHYSICAL_ANGLE":"fysieke hoek | fysieke hoek","PRIVACYAWARENESS":"privacy-bewustzijn","RELATIONOWNEROBJECTANDOWNERSECURITYSYSTEM":"relatie eigenaar object en eigenaar beveiligingssysteem","RESPONSIBILITY":"verantwoordelijkheid | verantwoordelijkheden","SCENARIOS":"scenario | scenarios","SECURITYAWARENESS":"beveiligingsbewustzijn","TARGETTYPE":"doeltype | doeltypes","THREATDIRECTION":"actor | actors","TYPEOFENVIRONMENT":"omgevingstype","TYPEOFOBJECT":"objecttype | objecttypes","WEAPON":"wapen | wapens","WEATHERBEHAVIOUR":"weersgedrag | weersgedragingen","WEATHERTYPE":"weersconditie | weerscondities"},"UTIL":{"A":"een","AN":"een"}}}')},"8e52":function(t,e,a){},"90f7":function(t,e,a){"use strict";var s=a("56f6"),i=a.n(s);i.a},abb8:function(t,e,a){},afd5:function(t,e,a){},b3be:function(t,e,a){"use strict";var s=a("7b6c"),i=a.n(s);i.a},b98c:function(t,e,a){"use strict";var s=a("e78f"),i=a.n(s);i.a},ba33:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdwAAACuBAMAAABuEKG4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABVQTFRFAAAA////////////////////////SM9tBAAAAAd0Uk5TACRsocLp/1DZrFIAAAbuSURBVHic7Z1Lc9w2EIQlJcFZch5nRk54tqtSOW+SMs9KpeQz9Vj+/5+QSPIqS3Iw043nQmZfNYPpj6BAECC5Z2ebNm3atCmv3r3/dHt7+9f1ZW0j+XUxTMf6s7afrPp1WmnfYanrzHTaf1QK/y7n/GE6/tFTDQLOxvqiexbXsn3hr/VYH3eafCOJF9eb8aSf1Fof6uP63PtxlV4ajFp39XEnFnfahZt9qI8rH3IF1/MPf44UM/6BUzFpEntLwZXPB4jW4k3CY4nFFYcctJh6PieAsTWSuFL8Z7ia/+JXCFfqXhK3J6pJR6sormBAw13//zmqnP/6G0UBSxg/NNzV2aDMpaD8wrjCXIPCZct5/33DCSiNUbj61BGrVxR3fXoRuN+kqFcW9yYCN6SeZ/YcZj5BeRzXBRWUR+egpkIUjhtWb18XdwzFdYkKlsVdXnpRXPDOQG+kPO7y0ovi8hehg6TuDW4stjqIG965YvdGtBZXHcR1EQVXF7+iuPNLA4gbU1CYqcc0R2p+NmO4LqpiVxN3fjZjuHEF11OruPY4zboXwnWRFavi3tO4ahCgsSbuROPGFlzNJGMbpDSSuC664nJZIbpBRnsSN77i8myOb5FRR+GyK1T+lirhjhSuS1Cxq4k7UbgpCo5VcW8I3BTn8nJsTtEkoTsC1yWpWBV3InCHJAXHqrgjjpum4F1V3EcY1yWqWBX3dZ5TDLerijuiuKkL1sGdSuPe18X9gOG6ZAXr4o6lcS+r4k4YLv4shqWxLu4I4aauVw33HsEN2dP16Hj9dUjXLCwE16Wu96LwLZhwjYVxj8aqlM2i2gO46Uaq2eaJS9gsrM7GTVmu8lj1XF/Hjdn4W+muMu5k4rqU1Y5XNJI2jOqmKG7laeTz6RWP+/A04v6AlDur3b0W7mC2sD9cXnq7WnfMC8Qn12jgmg08Mv11PDT7X0TKqMdI3Nl6qjlVmuOenZ1fz/SLnv1wvZJVcKXLONz5Vpc1J1niLkVn0xuxY6/91bpBWDiwFuC1x/XL4O7VjO+M7GV5ZxSrjqurZw0Y7Z04rqF1fWO0ahpXqG/89zaNK71EyWe0gisOPE5N6RrGFcpbZ/OuYVzZu5oiHqFGcGXLvZbSMK5nzuC0nIZxPdbVidjbw1VXtxrGFZ5BNz03jNt9Xbg+z9pN7xvEZd9ubxy3V3KMz4foBU8TV7sH3HBbx+2VnK8MV3DcOu6g5DSM61uZ0HIaxvV9A0TLaRjXZz0kp11cdfWmYVzPDojTchrG9QzNTkt5e7iDltIyruxdTfEtCTSLq+8ZGh+QpOsV3TSRHDs1o+VNE3FdXc/QaU8cV7i/cXpG07iC+4FNaAl3ZcB4lqPswwr8g0zWo0Nk55Z9FIV/DtF68mbh3xnhguGcuPQj8ebzvTeE3eK431p+VhlmRHdU3HyyvTAufTYDCf/zDkRsGVxn259nADF/v1RGXlk3aJPj0h8t7ZGof36+eo81VxiXfXEk7UPW5if19fQAXMcZTIsr+M2MSw5WKd+Jq4LbUwbTviGxK4/rKINpcS3aDLic/7T3HDVwHWeQCtdl/TREFlxq8EmKK9jNj0udzXFf/1zIWIbMhOsIh+TRMRurgMv0l9UipTq4zHvv5MmgyvzRnky4BMB/0fQ9sk+C2yK4xL8jF60L+OE8vYFQ3B62+BQ9wNF2W1VwrXe/5hkOjlYlmC2Ei5+fT8GJbooq4jrUI3dw7Kbq4MJrOM/RSb5gYk+Y8+HCHcadC5oEr+VwUQLu4GC1K+CiBECjmJAfusyICxK8BDuQibNaEhckgGwQDdXCBQm+BPcglFfWTmd2XOzq8iXYoViE07K42I0O5gNvpxouRnAIdigXbLQ0LkRwCI5csQJpc+JCE0msXUvgQJUVF9oMfA3G7xkF2b8tXQDXAUZRJ6qwGVVuXISAOzge7U4Dt7edcgdHFt65eXGdbZWLlrU7EVygw46jAz+QCd3XF8F1ptfj6MAF5+5kcO1Ft1l4z1AeBOwdROCqlsjmlxlBUyuGNjeu48ya4ZDFlLiqo1W02V+LeHq0gqePRXDNqfAinP7tGo7W2J+Jx1XDhQwrfqEdiauvOcTj0p/C6xlawZ8u1T39rTe6gJBB0DITjEBc1Y5UgcUlN4dJ0bja4CkVcKxjbn8pN65mX6wwsJZBXmCznnMv4mpmxArqtVfMgHiDaAPeZB9I8+q6jJxhzyat96O8ciyucuz5Ej5Xg07Lj8mvUiY+Iq7i3lfCf2vndaW+cGY/DaioJ3H97v01fMfUn3HuvQQEn8gHff/pVtToS7j4TQr/rNUQU9QMz91yF8bYgC5WPbzvanvKq3dHxPuPtd2U0fnVVeBldtOmTZs2nYL+BeoD0CS8GVM4AAAAAElFTkSuQmCC"},c000:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("de2a"),a("0f31"),a("7527");var s=a("90e4"),i=a.n(s),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("AppBar"),a("NavigationDrawer"),a("v-main",{attrs:{id:"content"}},[a("router-view")],1)],1)},o=[],c=a("0f9e"),r=a("fc36"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app-bar",{staticClass:"ind-app-bar noselect font-weight-light no-print",attrs:{app:"",dense:"",flat:"","clipped-left":"",height:"42"}},[s("v-icon",{staticClass:"home-icon pr-3",attrs:{to:"create"}},[t._v("mdi-shield")]),s("v-toolbar-title",[t._v("V2018 Scenario Generator")]),s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"ml-8 mx-2 my-2 app-btn",attrs:{outlined:"",to:"add",small:"",color:"blue"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(t._s(t.$t("APP.ADD_DIMENSIONS"))+" ")],1),s("v-btn",{staticClass:"mx-2 my-2 app-btn",attrs:{outlined:"",to:"consistency",small:"",color:"blue"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-domain")]),t._v(t._s(t.$t("APP.CONSISTENCIES"))+" ")],1),s("v-btn",{staticClass:"mx-2 my-2 app-btn",attrs:{outlined:"",to:"create",small:"",color:"blue"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),t._v(t._s(t.$t("APP.CREATE_SCENARIO"))+" ")],1),s("v-btn",{staticClass:"mx-2 my-2 app-btn",attrs:{outlined:"",to:"show",small:"",color:"blue"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-graph-outline")]),t._v(t._s(t.$t("APP.SHOW_SCENARIO"))+" ")],1)],1),s("v-spacer"),s("v-sheet",{staticClass:"blue px-2 d-flex",attrs:{height:"100%",tile:""}},[s("a",{staticClass:"tno-link",attrs:{href:"https://www.tno.nl",target:"_blank"}},[s("v-img",{attrs:{src:a("ba33"),"max-width":"50",contain:""}})],1)])],1)},d=[];let u=class extends r["c"]{constructor(){super(...arguments),this.scenario={}}async mounted(){this.$store.states.map(t=>{this.scenario=t.scenarios.current})}};u=Object(c["a"])([Object(r["a"])({components:{}})],u);var p=u,v=p,h=(a("cfa4"),a("2be6")),m=Object(h["a"])(v,l,d,!1,null,null,null),f=m.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-navigation-drawer",{staticClass:"noselect no-print",attrs:{width:"240px",app:"",clipped:"",floating:"",permanent:""}},[s("v-subheader",{staticClass:"font-weight-thin"}),s("v-row",{staticClass:"mb-4",attrs:{"no-gutters":"","align-content":"center",justify:"center"}},[s("v-img",{attrs:{src:a("76ff"),"max-width":"100",contain:""}})],1),s("v-card",{staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(" "+t._s(t.$t("APP.SCENARIO"))+" ")]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("div",{staticClass:"blue--text"},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.ACTIVE",{item:t.$tc("COMP.SCENARIOS")})))+": "),s("span",{staticClass:"bold--text"},[t._v(t._s(this.activeScenario.name||"-")+" ")]),s("span",[t.activeScenario?s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-1 add-button",attrs:{color:"blue",icon:"","x-small":"",elevation:"2"}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!1,3635798699),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("EditComponentCard",{attrs:{itemkey:"scenarios",itemid:t.activeScenario.id,itemname:t.activeScenario.name},on:{close:t.closeMenu}})],1):t._e()],1)])])],1),s("v-row",{staticClass:"mt-2 ml-4",attrs:{"no-gutters":""}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{color:"accent darken-1",small:"",elevation:"2"}},"v-btn",i,!1),a),[s("v-icon",{staticClass:"pr-1",attrs:{small:""}},[t._v("mdi-import")]),t._v(" Import/export ")],1)]}}]),model:{value:t.importMenu,callback:function(e){t.importMenu=e},expression:"importMenu"}},[s("ImportExportCard",{on:{close:t.closeImportMenu}})],1)],1),t.activeScenario?s("v-card",{staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$tc("COMP.NARRATIVE",2)))]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("div",{staticClass:"blue--text"},[t._v(" "+t._s(t._f("capitalize")(t.$t("APP.ACTIVE",{item:t.$tc("COMP.NARRATIVE")})))+": "),s("span",{staticClass:"bold--text"},[t._v(t._s(this.activeNarrative.name||"-")+" ")])]),s("v-select",{attrs:{items:t.activeScenario.narratives,"item-text":"name","return-object":""},on:{change:t.narrativeSelected},model:{value:t.activeNarrative,callback:function(e){t.activeNarrative=e},expression:"activeNarrative"}})],1)],1):t._e(),s("v-card",{staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.LANGUAGE")))]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("v-radio-group",{staticClass:"ind-radio",on:{change:t.languageChanged},model:{value:t.activeLanguage,callback:function(e){t.activeLanguage=e},expression:"activeLanguage"}},t._l(t.languages,(function(e){return s("v-radio",{key:e,attrs:{label:e,value:e},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",[s("CountryFlag",{attrs:{iso:e,mode:"squared"}}),t._v(" "+t._s(e))],1)]},proxy:!0}],null,!0)})})),1)],1)],1),s("v-card",{staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[s("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.THEME")))]),s("v-divider"),s("v-card-text",{staticClass:"text-description px-4 py-1"},[s("v-radio-group",{staticClass:"ind-radio",on:{change:t.themeChanged},model:{value:t.activeTheme,callback:function(e){t.activeTheme=e},expression:"activeTheme"}},t._l(t.themes,(function(t){return s("v-radio",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)],1)},b=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"edit-component-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.EDIT",{item:this.getTranslateKey()}))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$t("APP.NAME")),autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editItem(e)}},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),a("v-text-field",{attrs:{label:"Type",disabled:""},model:{value:t.itemkey,callback:function(e){t.itemkey=e},expression:"itemkey"}},[t._v("itemkey")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.CANCEL"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.editItem}},[t._v(" "+t._s(t.$t("APP.SAVE"))+" ")])],1)],1)},C=[];let O=class extends r["c"]{constructor(){super(),this.newName=""}getTranslateKey(){return this.$tc("COMP."+this.itemkey.toUpperCase())}async editItem(){await this.$store.actions[this.itemkey].save({id:this.itemid,name:this.newName}),await this.$store.actions[this.itemkey].load(this.itemid),this.$emit("close")}async cancel(){this.$emit("close")}async mounted(){}};Object(c["a"])([Object(r["b"])({default:""})],O.prototype,"itemkey",void 0),Object(c["a"])([Object(r["b"])({default:""})],O.prototype,"itemname",void 0),Object(c["a"])([Object(r["b"])({default:""})],O.prototype,"itemid",void 0),O=Object(c["a"])([Object(r["a"])({components:{}})],O);var E=O,T=E,x=(a("e8b2"),Object(h["a"])(T,g,C,!1,null,"2055c520",null)),A=x.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"add-component-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.IMPORT_EXPORT_TITLE"))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-card",[a("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.IMPORT")))]),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-file-input",{attrs:{accept:"application/json","show-size":"","truncate-length":"20",label:"Open"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"accent darken-1"},on:{click:t.importItem}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-import ")]),t._v(t._s(t.$t("APP.IMPORT"))+" ")],1)],1)],1),a("v-card",{staticClass:"mt-1"},[a("div",{staticClass:"overline px-2 py-2"},[t._v(t._s(t.$t("APP.EXPORT")))]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"ml-2",attrs:{color:"accent darken-1"},on:{click:t.exportItem}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-export ")]),t._v(t._s(t.$t("APP.EXPORT"))+" ")],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.DONE"))+" ")])],1)],1)},S=[],_=a("3a67"),I=a("7ada"),j=a.n(I);const P=Object.assign||((t,e)=>(e&&Object.keys(e).forEach(a=>t[a]=e[a]),t)),k=(t,e,a)=>{const s=typeof a;if(a&&"object"===s)if(Array.isArray(a))for(const i of a)e=k(t,e,i);else for(const i of Object.keys(a)){const s=a[i];"function"===typeof s?e[i]=s(e[i],w):void 0===s?t&&!isNaN(+i)?e.splice(i,1):delete e[i]:null===s||"object"!==typeof s||Array.isArray(s)?e[i]=s:"object"===typeof e[i]?e[i]=s===e[i]?s:w(e[i],s):e[i]=k(!1,{},s)}else"function"===s&&(e=a(e,w));return e},w=(t,...e)=>{const a=Array.isArray(t);return k(a,a?t.slice():P({},t),e)};var L=a("d843"),R=a("87e1"),$=a("ec26");const M="V2018_THEME",D=(t=!1)=>t?Object($["a"])():Object($["a"])().substr(0,8),V=()=>["hour"],z=t=>!(!t||t.length<=0)&&(/^[aeiou]$/i.test(t[0])||V().some(e=>e.startsWith(t.toLocaleLowerCase()))),U=console.log,F=console.error,B=R,G=()=>t=>{if(U(`Start LocalStorageFactory ${t}...`),!localStorage.getItem(t)&&B.hasOwnProperty(t)){U(`Loading example keys for ${t}...`);const e=B[t].map(e=>"scenarios"===t?Object.assign({inconsistencies:[],narratives:[]},e):{id:D(),name:e,type:t});localStorage.setItem(t,JSON.stringify(e))}const e=async e=>{try{const a=JSON.parse(localStorage.getItem(t)||"[]");return a.push(e),localStorage.setItem(t,JSON.stringify(a)),a}catch(a){return F(a.message)}},a=async a=>{try{const s=JSON.parse(localStorage.getItem(t)||"[]"),i=s.findIndex(t=>t.id===a.id);if(i>=0){const e=s.splice(i,1).pop(),n=Object.assign(e,a);return s.push(n),localStorage.setItem(t,JSON.stringify(s)),s}return e(a)}catch(s){return F(s.message)}},s=async t=>t.id?a(t):e(t),i=async e=>{try{const a=JSON.parse(localStorage.getItem(t)||"[]"),s=a.findIndex(t=>t.id===e);if(s>=0){const e=a.splice(s,1).pop();return localStorage.setItem(t,JSON.stringify(a)),U("Deleted "+e.id),a}return F("Item not deleted: "+e)}catch(a){return F(a.message)}},n=e=>{const a=JSON.parse(localStorage.getItem(t)||"[]"),s=a.find(t=>t.id===e);return s},o=async()=>JSON.parse(localStorage.getItem(t)||"[]"),c=async e=>{localStorage.setItem(t,JSON.stringify(e))},r=async()=>{const e=[];localStorage.setItem(t,JSON.stringify(e))};return{create:e,update:a,save:s,del:i,load:n,loadList:o,saveList:c,resetList:r}},W=G(),Y=t=>{const e=W(t);return{initial:{[t]:{mode:void 0,current:void 0,list:[]}},actions:(a,s)=>({[t]:{updateList:async()=>{const s=await e.loadList();s&&a({[t]:{list:s}})},saveList:async()=>{s()[t]&&s()[t].list&&(await e.saveList(s()[t].list),a({[t]:{list:s()[t].list}}))},load:async i=>{const n=await e.load(i);if(n){const e=s(),{current:i={}}=e[t];Object.keys(i).forEach(t=>i[t]=void 0),a({[t]:{current:{...i,...n}}})}},save:async(s,i)=>{const n=await e.save(s);n&&(console.table(n),a({[t]:{list:n}}),i&&i(n))},del:async s=>{const i=await e.del(s);i&&a({[t]:{list:i}})},changeSection:e=>a({[t]:{section:e}})}})}};var X=a("9869"),H=a("d119"),J=a("8af2"),K=a("502b");X["default"].use(H["a"]),X["default"].use(i.a);const q=Object.assign(J,K),Z="V2018_LANGUAGE",Q=new H["a"]({locale:localStorage.getItem(Z)||"gb",fallbackLocale:"gb",messages:q,modifiers:{addArticle:t=>z(t)?`${tt("AN")} ${t}`:""+tt("A"),getArticle:t=>z(t)?tt("AN"):tt("A")}}),tt=t=>t?Q.t(t).toString():"";var et=a("9ec3"),at=a.n(et);const st=console.log,it={initial:{app:{apiService:Object({NODE_ENV:"production",BASE_URL:"/scenario-generator/"}).SERVER||window.location.origin,route:"/",language:localStorage.getItem(Z)||"gb",theme:localStorage.getItem(M)||"light",narrative:{}}},actions:(t,e)=>({search:(e,a)=>t({app:{isSearching:e,searchQuery:a}}),changePage:e=>{st("Set route "+e),t({app:{route:e}})},changeLanguage:e=>{st("Set language "+e),Q.locale=e,localStorage.setItem(Z,e),t({app:{language:e}})},changeTheme:e=>{st("Set theme "+e),localStorage.setItem(M,e),t({app:{theme:e}})},importState:e=>{st("Import state");const a=JSON.parse(e);t(a)},exportState:()=>(st("Export state"),JSON.stringify(e.map(t=>at.a.pickBy(t,(t,e)=>"app"!=e)))),changeNarrative:e=>{st("Set narrative "+e.id),t({app:{narrative:e}})},updateInconsistencies:e=>{st("Set inconsistencies"),t({scenarios:{current:{inconsistencies:e}}})}})},nt=["ThreatDirection","Impact","Duration","Persons","Motivation","Capabilities","PhysicalAngleOfAttack","ModusOperandi","Equipment","TargetType","Location","TypeOfObject","Responsibility","WeatherType","WeatherBehaviour","TypeOfEnvironment","PeopleDensity","Intent","ExistingInfra","PrivacyAwareness","SecurityAwareness","AvailableBudget","CompartmentsPresent","OpenCompartments","RelationOwnerObjectAndOwnerSecuritySystem"],ot=[...nt,"scenarios"],ct={};nt.forEach(t=>ct[t]=Y(t));const rt=Y("scenarios"),lt={initial:Object.assign({},it.initial,rt.initial,...Object.values(ct).map(t=>t.initial)),actions:(t,e)=>Object.assign({},it.actions(t,e),rt.actions(t,e),...Object.values(ct).map(a=>a.actions(t,e)))},dt=Object(L["stream"])(),ut=Object(L["scan"])(w,lt.initial,dt),pt=lt.actions(dt,ut),vt={actions:pt,states:ut};let ht=class extends r["c"]{constructor(){super(),this.file=null,this.fileJson=""}async openFiles(){return new Promise((t,e)=>{if(this.file){this.file.name;const a=new FileReader;a.addEventListener("load",()=>{this.file=null,a.result?t(a.result.toString()):e()}),a.readAsText(this.file)}else console.warn("No files selected"),this.file=null,e()})}async importItem(t){console.log("Import");try{this.fileJson=await this.openFiles(),this.$store.actions.importState(this.fileJson),ot.forEach(async t=>{this.$store.actions.hasOwnProperty(t)&&await this.$store.actions[t].saveList()})}catch(e){console.warn("No files uploaded")}this.$emit("close")}async exportItem(){console.log("Export");let t=this.$store.actions.exportState();const e=new Blob([""+t],{type:"text/plain;charset=utf-8"});j.a.saveAs(e,`scenario-${Object(_["a"])(new Date,"yyyy-MM-dd'T'HH_mm_ss")}.json`),this.$emit("close")}async cancel(){this.$emit("close")}async mounted(){}};ht=Object(c["a"])([Object(r["a"])({components:{}})],ht);var mt=ht,ft=mt,yt=(a("08da"),Object(h["a"])(ft,N,S,!1,null,"13e8e400",null)),bt=yt.exports;let gt=class extends r["c"]{constructor(){super(...arguments),this.languages=["gb","nl"],this.activeLanguage="",this.themes=["light","dark"],this.scenarios=[],this.activeTheme="",this.activeScenario={},this.activeNarrative={},this.menu=!1,this.importMenu=!1}async languageChanged(){this.$store.actions.changeLanguage(this.activeLanguage)}async themeChanged(){this.$store.actions.changeTheme(this.activeTheme)}async narrativeSelected(){this.$store.actions.changeNarrative(this.activeNarrative)}async closeMenu(){this.menu=!1}async closeImportMenu(){this.importMenu=!1}activeScenarioName(){!this.activeScenario.name||this.activeScenario.name}async mounted(){console.log("navigation mounted"),this.$store.states.map(t=>{this.activeLanguage=t.app.language,this.activeTheme=t.app.theme,this.scenarios=t.scenarios.list||[],this.activeScenario=t.scenarios.current||{},this.activeNarrative=t.app.narrative||{}})}};gt=Object(c["a"])([Object(r["a"])({components:{CountryFlag:i.a,EditComponentCard:A,ImportExportCard:bt}})],gt);var Ct=gt,Ot=Ct,Et=(a("596d"),Object(h["a"])(Ot,y,b,!1,null,"3a97d13a",null)),Tt=Et.exports;let xt=class extends r["c"]{constructor(){super(),this.theme="",this.scenarios=[],this.activeScenario={},console.log(ot),ot.forEach(async t=>{this.$store.actions.hasOwnProperty(t)&&await this.$store.actions[t].updateList()})}scenariosUpdated(){!this.activeScenario&&this.scenarios&&this.scenarios.length>0&&this.$store.actions["scenarios"].load(this.scenarios[0].id)}activeScenarioUpdated(){this.activeScenario&&this.activeScenario.id&&(this.$store.states().app.narrative&&this.$store.states().app.narrative.id||this.activeScenario.narratives&&this.activeScenario.narratives.length>0&&this.$store.actions.changeNarrative(this.activeScenario.narratives[0]))}themeUpdated(t){this.$vuetify.theme.dark="dark"===t}routeUpdated(t,e){"/"+this.$store.states().app.route!==t.path&&this.$store.actions.changePage(t.path)}mounted(){this.$store.states.map(t=>{this.theme=t.app.theme,this.scenarios=t.scenarios.list,this.activeScenario=t.scenarios.current})}};Object(c["a"])([Object(r["d"])("scenarios")],xt.prototype,"scenariosUpdated",null),Object(c["a"])([Object(r["d"])("activeScenario")],xt.prototype,"activeScenarioUpdated",null),Object(c["a"])([Object(r["d"])("theme")],xt.prototype,"themeUpdated",null),Object(c["a"])([Object(r["d"])("$route")],xt.prototype,"routeUpdated",null),xt=Object(c["a"])([Object(r["a"])({components:{AppBar:f,NavigationDrawer:Tt}})],xt);var At=xt,Nt=At,St=(a("034f"),Object(h["a"])(Nt,n,o,!1,null,null,null)),_t=St.exports,It=a("4afd"),jt=a.n(It),Pt=a("5f2b"),kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height",attrs:{md:"12",cols:"12"}},[a("splitpanes",{staticClass:"full-height",attrs:{horizontal:""}},[a("pane",{staticClass:"pa-2",attrs:{"min-size":"10",size:"20"}},[a("ScenarioText")],1),a("pane",{staticClass:"pa-2",attrs:{"min-size":"10",size:"55"}},[a("MapCard")],1),a("pane",{staticClass:"pa-2",attrs:{"min-size":"10",size:"25"}},[a("NarrativeComponents")],1)],1)],1)],1)],1)},wt=[],Lt=(a("34ea"),a("a7df")),Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(" "+t._s(t.$tc("APP.LOCATION"))+" "),a("span",{staticStyle:{float:"right"}},[a("v-btn",{attrs:{icon:""},on:{click:t.toggleMapLayer}},[a("v-icon",[t._v("mdi-map")])],1)],1)]),a("v-divider"),a("v-card-text",{staticClass:"text-description full-height"},[a("div",{staticClass:"pr-cir"},[t.loading?a("v-progress-circular",{attrs:{indeterminate:"",size:150,color:"primary"}}):t._e()],1),a("v-row",{staticClass:"no-gutters full-height"},[a("v-col",{staticClass:"full-height",attrs:{md:"12"}},[a("div",{staticClass:"map-overlay-coords"},[t._v(t._s(t.pointer))]),a("vl-map",{staticStyle:{height:"85%"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0,"data-projection":"EPSG:4326"},on:{pointermove:t.pointerMove}},[a("vl-view",{attrs:{zoom:t.zoom,center:t.center},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){t.center=e}}}),a("vl-layer-tile",{attrs:{id:"xyz"}},[a("vl-source-xyz",{attrs:{url:t.url}})],1),a("vl-layer-vector",{attrs:{"z-index":99}},[a("vl-source-vector",{attrs:{features:t.features}},[a("vl-style-box",[a("vl-style-icon",{attrs:{src:t.iconUrl,scale:.8,anchor:[.5,1]}})],1)],1)],1)],1)],1)],1)],1)],1)},$t=[],Mt=a("c6b8");const Dt="https://github.com/rinzeb/osm-icons/raw/master/png/osm{{ITEM}}.png";let Vt=class extends r["c"]{constructor(){super(...arguments),this.narrative={},this.scenario={},this.locations={},this.typeOfObjects={},this.iconUrl="https://github.com/rinzeb/osm-icons/raw/master/png/osmairport.png",this.loading=!1,this.url="https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",this.urls=["https://{a-c}.basemaps.cartocdn.com/rastertiles/dark_all/{z}/{x}/{y}.png","https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"],this.zoom=2,this.center=[0,12],this.features=[],this.pointer="",this.zoomMap=at.a.throttle(this.zoomMapThrottled,500,{trailing:!0}),this.pointerMove=at.a.throttle(this.pointerMoveThrottled,50,{trailing:!0})}narrChanged(){this.updateMap()}toggleMapLayer(){this.url===this.urls[0]?this.url=this.urls[1]:this.url=this.urls[0]}getIcon(t){let e="building";if(t&&t.components){const a=at.a.pick(t.components,"TypeOfObject"),s=a&&at.a.find(this.typeOfObjects.list,t=>t.id===a.TypeOfObject),i=s&&s.context;i&&(e=""+Object.values(i.data).pop())}return Dt.replace("{{ITEM}}",e)}zoomMapThrottled(){if(!this.features||this.features.length<1)return;const t=Object(Mt["center"])(Object(Mt["bboxPolygon"])(Object(Mt["bbox"])({type:"FeatureCollection",features:this.features})));this.center=[t.geometry.coordinates[0],t.geometry.coordinates[1]],this.zoom=14}pointerMoveThrottled(t){this.pointer=`Lat: ${t.coordinate[1].toFixed(4)}, Lon: ${t.coordinate[0].toFixed(4)}`}async addFeatures(t,e){if(this.loading=!1,t)console.log(t);else{console.log(`Received ${e.features.length} features`);const t=[];e.features.forEach(e=>{t.push(e)}),setTimeout(()=>{r["c"].set(this,"features",t),this.zoomMap()},100)}}async updateMap(){if(console.log("Update map data"),this.loading=!0,this.features.length>0&&this.features.splice(0,this.features.length),this.narrative&&this.narrative.id){const t=at.a.pick(this.narrative.components,"Location"),e=t&&at.a.find(this.locations.list,e=>e.id===t.Location),a=e&&e.context;if(!a)return this.loading=!1,console.log("Could not find loc in narrative "+this.narrative.name);const s=at.a.pick(this.narrative.components,"TypeOfObject"),i=s&&at.a.find(this.typeOfObjects.list,t=>t.id===s.TypeOfObject),n=i&&i.context;if(!n)return this.loading=!1,console.log("Could not find typeOfObject in narrative "+this.narrative.name);const o=`${Object.keys(n.data).pop()}=${Object.values(n.data).pop()}`;if("LOCATION"===a.type){const t=a.data;if(t.hasOwnProperty("NAME"))this.$overpass.getGeojsonFromQuery(t.NAME||e.name,o,this.addFeatures);else if(t.hasOwnProperty("COORDINATES")){const e=t.COORDINATES.split(",").map(t=>+t);this.$overpass.getGeojsonFromCoordinates(e,o,this.addFeatures)}}else console.log("No location context found"),this.loading=!1}}init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.locations=t.Location,this.typeOfObjects=t.TypeOfObject,this.narrative=t.app.narrative||{},this.iconUrl=this.getIcon(t.app.narrative)})}async mounted(){this.init(),setTimeout(()=>this.updateMap(),250)}};Object(c["a"])([Object(r["d"])("narrative")],Vt.prototype,"narrChanged",null),Vt=Object(c["a"])([Object(r["a"])({components:{}})],Vt);var zt=Vt,Ut=zt,Ft=(a("fbbd"),Object(h["a"])(Ut,Rt,$t,!1,null,null,null)),Bt=Ft.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s(t.$tc("APP.DESCRIPTION")))]),t.subtitle&&t.subtitle.length>0?a("div",{staticClass:"px-4 pt-0 pb-2 v-card__text"},[t._v(" "+t._s(t.subtitle)+" ")]):t._e(),a("v-divider"),a("v-card-text",{staticClass:"text-description"},[a("div",{domProps:{innerHTML:t._s(t.html)}}),a("v-divider",{staticClass:"my-6"})],1)],1)},Wt=[];let Yt=class extends r["c"]{constructor(){super(),this.actors=[]}async mounted(){await this.$store.actions.scenarios.updateList()}};Object(c["a"])([Object(r["b"])({default:""})],Yt.prototype,"html",void 0),Object(c["a"])([Object(r["b"])({default:""})],Yt.prototype,"subtitle",void 0),Yt=Object(c["a"])([Object(r["a"])({components:{}})],Yt);var Xt=Yt,Ht=Xt,Jt=(a("2998"),Object(h["a"])(Ht,Gt,Wt,!1,null,"7fd689f6",null)),Kt=Jt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(" "+t._s(""+t.$t("APP.SHOW_SCENARIO"))+" "),a("span",{staticStyle:{float:"right"}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-info")])],1)],1)]),a("v-divider"),a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[t.narrative&&t.narrative.id?a("div",[a("span",{staticClass:"scenario-narrative"},[t._v(t._s(t.narrative.narrative))])]):t._e()])],1)},Zt=[];let Qt=class extends r["c"]{constructor(){super(),this.narrative={}}async init(){this.$store.states.map(t=>{this.narrative=t.app.narrative})}mounted(){console.log("ScenarioText mounted"),this.init()}};Qt=Object(c["a"])([Object(r["a"])({components:{}})],Qt);var te=Qt,ee=te,ae=(a("076b"),Object(h["a"])(ee,qt,Zt,!1,null,null,null)),se=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(" "+t._s(""+t.$tc("APP.DIMENSION",2))+" "),a("span",{staticStyle:{float:"right"}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-info")])],1)],1)]),a("v-divider"),a("v-card-text",{staticClass:"text-description"},[t.scenario&&t.narrative.components?a("div",{staticClass:"narr-table"},t._l(t.categoryNames,(function(e){return a("v-simple-table",{key:e,staticClass:"mb-2",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left bold--text normal-font"},[t._v(t._s(e))])]),a("tr",t._l(t.getCollectionNames(e),(function(e){return a("th",{key:e,staticClass:"text-left"},[t._v(t._s(e))])})),0)]),a("tbody",[a("tr",t._l(t.getNarrativeComponents(e),(function(e,s){return a("td",{key:e},[a("div",[t._v(t._s(t.getCollectionVal(e,s)))])])})),0)])]},proxy:!0}],null,!0)})})),1):t._e()])],1)},ne=[];let oe=class extends r["c"]{constructor(){super(),this.scenario={},this.narrative={},this.collections=null,this.categoryNames=[],this.categories={}}async init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.narrative=t.app.narrative,this.categories=this.scenario?this.scenario.categories:{},this.categoryNames=Object.keys(this.categories||[]),this.collections=t})}getNarrativeComponents(t){const e=nt.filter(e=>this.categories[t].includes(e));return at.a.pickBy(this.narrative.components,(t,a)=>e.includes(a))}getCollectionVal(t,e){const a=this.collections[e].list.find(e=>e.id===t);return a?a.name:"?"}getCollectionNames(t){return nt.filter(e=>this.categories[t].includes(e))}mounted(){this.init()}};oe=Object(c["a"])([Object(r["a"])({components:{}})],oe);var ce=oe,re=ce,le=(a("d90e"),Object(h["a"])(re,ie,ne,!1,null,"39be5f82",null)),de=le.exports;let ue=class extends r["c"]{mounted(){console.log("Show mounted")}};ue=Object(c["a"])([Object(r["a"])({components:{Splitpanes:Lt["Splitpanes"],Pane:Lt["Pane"],DescriptionCard:Kt,NarrativeComponents:de,MapCard:Bt,ScenarioText:se}})],ue);var pe=ue,ve=pe,he=Object(h["a"])(ve,kt,wt,!1,null,"63f169f8",null),me=he.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height pa-2",attrs:{md:"12",cols:"12"}},[a("ScenarioGenerator")],1)],1)],1)},ye=[],be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"flex-card generate-card",staticStyle:{background:"transparent",overflow:"auto"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s("1. "+t.$t("APP.GENERATE",{item:t.$tc("APP.SCENARIO")})))]),a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"d-flex",attrs:{"no-gutters":""}},[a("v-btn",{staticClass:"d-flex ma-4",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.generateNarrative}},[t._v(" "+t._s(t.$t("APP.GENERATE",{item:t.$tc("APP.SCENARIO")}))+" ")]),a("v-btn",{staticClass:"d-flex ma-4",attrs:{color:"accent darken-1",elevation:"2"},on:{click:t.newNarrative}},[t._v(" "+t._s(t.$t("APP.EMPTY",{item:t.$tc("APP.SCENARIO")}))+" ")])],1),a("div",[a("v-row",{staticClass:"mt-1"},t._l(t.categoryNames,(function(e){return a("v-col",{key:e,attrs:{xs:"6",cols:"6"}},[a("v-card",[a("v-card-title",{attrs:{dense:""}},[t._v(" "+t._s(e)+" ")]),a("v-card-text",{staticClass:"pa-0"},[t.collections?a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left bold--text"},[t._v("Dimension")]),a("th",{staticClass:"text-left bold--text more-padding"},[t._v("Selected")])])]),a("tbody",{staticClass:"category-table"},[t._l(t.categories[e],(function(e){return a("tr",{key:e},[a("td",{staticClass:"catname"},[t._v(t._s(e))]),a("td",{staticClass:"py-1"},[a("v-select",{attrs:{items:t.collections[e].list,"item-text":"name","item-value":"id",clearable:"",solo:"",dense:"","hide-details":""},model:{value:t.answers[e],callback:function(a){t.$set(t.answers,e,a)},expression:"answers[cat]"}})],1)])}))],2)]},proxy:!0}],null,!0)}):t._e()],1)],1)],1)})),1)],1)],1)],1)],1),a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s("2. "+t.$t("APP.WRITE_NARRATIVE")))]),a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[a("v-textarea",{attrs:{filled:"",hint:"Write a narrative "},model:{value:t.narrativeText,callback:function(e){t.narrativeText=e},expression:"narrativeText"}})],1)],1),a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s("3. "+t.$t("APP.PIN",{item:t.$tc("APP.SCENARIO")})))]),a("v-card-text",{staticClass:"text-description ma-0 pa-1"},[a("v-text-field",{staticClass:"name-field",attrs:{label:t._f("capitalize")(t.$t("APP.NAME")),"append-outer-icon":"mdi-content-save"},on:{"click:append-outer":t.pinNarrative,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pinNarrative(e)}},model:{value:t.narrativeName,callback:function(e){t.narrativeName=e},expression:"narrativeName"}})],1)],1),a("v-row",{staticClass:"mt-1"})],1)},ge=[];let Ce=class extends r["c"]{constructor(){super(),this.scenario={},this.rows=[],this.collections=null,this.categoryNames=[],this.categories={},this.answers={},this.generated=!1,this.narrativeName="",this.narrativeText="",this.narrative={}}narrativeChanged(t){t&&(console.log("narrativeChanged to "+t.id),this.narrativeName=t.name||"",this.narrativeText=t.narrative||"",this.answers=this.narrative.components||{})}async init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.rows.length=0,nt.forEach(t=>{this.rows.push(t)}),this.categories=this.scenario?this.scenario.categories:{},this.categoryNames=Object.keys(this.categories||[]),this.collections=t,this.narrative=t.app.narrative})}getCategoryRows(t){return this.rows.filter(e=>this.categories[t].includes(e))}getRandom(t){if(!this.collections||this.collections[t].list.length<=0)return"None";{const e=at.a.random(this.collections[t].list.length-1);return this.collections[t].list[e].id}}newNarrative(){this.narrativeName="",this.narrativeText="",this.answers={}}generateNarrative(){console.log("generate");for(const t in this.categories){const e=this.categories[t];for(const t in e){const a=e[t];r["c"].set(this.answers,a,this.getRandom(a))}}this.generated=!this.generated}async pinNarrative(){if(console.log("Pin narrative"),!this.scenario)return;this.scenario.narratives?this.scenario.narratives=this.scenario.narratives.filter(t=>t.id!=this.narrativeName):this.scenario.narratives=[];const t={id:this.narrativeName,name:this.narrativeName,components:this.answers,narrative:this.narrativeText};this.scenario.narratives.push(t),await this.$store.actions["scenarios"].save(this.scenario),await this.$store.actions["scenarios"].load(this.scenario.id),await this.$store.actions.changeNarrative(t)}mounted(){console.log("ScenarioGenerator mounted"),this.init()}};Object(c["a"])([Object(r["d"])("narrative")],Ce.prototype,"narrativeChanged",null),Ce=Object(c["a"])([Object(r["a"])({components:{}})],Ce);var Oe=Ce,Ee=Oe,Te=(a("d07b"),Object(h["a"])(Ee,be,ge,!1,null,null,null)),xe=Te.exports;let Ae=class extends r["c"]{init(){this.$store.states.map(t=>{!t.scenarios.current&&t.scenarios.list.length>0&&this.$store.actions.scenarios.load(t.scenarios.list[0].id)})}mounted(){console.log("ScenarioView mounted"),this.init()}};Ae=Object(c["a"])([Object(r["a"])({components:{ScenarioGenerator:xe}})],Ae);var Ne=Ae,Se=Ne,_e=(a("b3be"),Object(h["a"])(Se,fe,ye,!1,null,"2345b4fc",null)),Ie=_e.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height",attrs:{md:"12",cols:"12"}},[a("KanbanLists")],1)],1)],1)},Pe=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"blue"}}),t._l(t.categoryNames,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.categories,(function(e,s){return a("v-tab-item",{key:s},[a("v-card",{staticClass:"flex-card",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("div",{staticClass:"overline px-2 py-0"},[t._v(t._s(t.$tc("APP.DIMENSION",2)))]),a("v-card-text",{staticClass:"text-description ma-0 pa-2"},[a("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},t._l(t.getCategoryRows(s),(function(t,e){return a("v-row",{key:e,staticClass:"kanban-col",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"my-1 elevation-1",attrs:{cols:"12"}},[a("KanbanList",{attrs:{itemkey:t}})],1)],1)})),1)],1)],1)],1)})),1)],1)},we=[],Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card",attrs:{dense:"",flat:"",tile:"",color:"secondary"}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"py-2 pl-0 divider-r",attrs:{cols:"2"}},[a("span",{staticClass:"title"},[t._v(t._s(t._f("capitalize")(t.title)))]),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-4 add-button",attrs:{color:"accent darken-1",fab:"",small:"",elevation:"2"}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-plus")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("AddComponentCard",{attrs:{itemkey:t.itemkey},on:{close:t.closeMenu}})],1)],1),a("v-col",{staticClass:"py-1 pl-1",attrs:{cols:"10"}},[a("div",{staticClass:"text-description px-2 hor-overflow"},[a("Container",{attrs:{orientation:"horizontal"}},t._l(t.items,(function(t,e){return a("Draggable",{key:e,staticClass:"min-width-card"},[a("KanbanCard",{attrs:{item:t}})],1)})),1)],1)])],1)],1)],1)},Re=[],$e=a("80f5"),Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"flex-card ma-1 kanban-card",attrs:{tile:"",elevation:"2",color:"accent"}},[a("v-card-title",{staticClass:"px-4 pt-2 pb-0 k-c-title"},[a("div",{staticClass:"k-c-title-text"},[t._v(" "+t._s(t.item.name)+" ")]),a("v-spacer"),a("v-btn",{staticClass:"k-c-btn",attrs:{color:"secondary",icon:"","x-small":""},on:{click:t.deleteItem}},[a("v-icon",[t._v("mdi-delete")])],1)],1),a("v-card-text",{staticClass:"text-description"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("div",t._g(t._b({},"div",i,!1),s),[a("v-icon",{attrs:{color:"secondary",small:""}},[t._v("mdi-note-plus-outline")]),a("span",{staticClass:"secondary--text"},[t._v(" "+t._s(t.getContext(t.item)))])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("AddContextCard",{attrs:{item:t.item},on:{close:t.closeMenu}})],1)],1)],1)},De=[],Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"add-context-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.ADD",{item:"context"}))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-select",{attrs:{items:t.types},on:{change:t.typeSelected},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}}),"LOCATION"==t.activeType?a("div",[a("v-select",{attrs:{items:t.locationTypes},model:{value:t.activeLocationType,callback:function(e){t.activeLocationType=e},expression:"activeLocationType"}}),"NAME"==t.activeLocationType?a("div",[a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$t("APP.VALUE"))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem(e)}},model:{value:t.activeVal,callback:function(e){t.activeVal=e},expression:"activeVal"}})],1):"COORDINATES"==t.activeLocationType?a("div",[a("v-text-field",{attrs:{type:"number",label:"Latitude"},model:{value:t.activeLat,callback:function(e){t.activeLat=e},expression:"activeLat"}}),a("v-text-field",{attrs:{type:"number",label:"Longitude"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem(e)}},model:{value:t.activeLon,callback:function(e){t.activeLon=e},expression:"activeLon"}})],1):t._e()],1):"LOCATIONTYPE"==t.activeType?a("div",[a("v-select",{attrs:{items:t.locationTypeTypes},model:{value:t.activeLocationTypeType,callback:function(e){t.activeLocationTypeType=e},expression:"activeLocationTypeType"}}),"LIST"==t.activeLocationTypeType?a("div",[a("v-select",{attrs:{items:t.osmTypes,"item-text":"name","return-object":""},model:{value:t.activeOsmType,callback:function(e){t.activeOsmType=e},expression:"activeOsmType"}})],1):"CUSTOM"==t.activeLocationTypeType?a("div",[a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.KEY"))},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}}),a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.VALUE"))},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem(e)}},model:{value:t.activeVal,callback:function(e){t.activeVal=e},expression:"activeVal"}})],1):t._e()],1):a("div",[a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.KEY")),disabled:""}}),a("v-text-field",{attrs:{label:t._f("capitalize")(t.$t("APP.VALUE")),disabled:""}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.CANCEL"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addItem}},[t._v(" "+t._s(t.$t("APP.SAVE"))+" ")])],1)],1)},ze=[];const Ue=["NONE","LOCATION","LOCATIONTYPE"],Fe=["NAME","COORDINATES"],Be=["LIST","CUSTOM"],Ge=[{name:"Restaurant",key:"amenity",value:"restaurant"},{name:"Cafe",key:"amenity",value:"bar"},{name:"Gas station",key:"amenity",value:"fuel"},{name:"Parking",key:"amenity",value:"parking"},{name:"Church",key:"building",value:"church"},{name:"Airport",key:"aeroway",value:"aerodrome"},{name:"Hotel",key:"tourism",value:"hotel"}];let We=class extends r["c"]{constructor(){super(),this.types=[...Ue],this.locationTypes=[...Fe],this.activeLocationType="NAME",this.locationTypeTypes=[...Be],this.activeLocationTypeType="LIST",this.osmTypes=Ge,this.activeOsmType={},this.activeType="NONE",this.activeLat=0,this.activeLon=0,this.activeKey="",this.activeVal="",this.newContext={type:"NONE",data:{}}}itemChanged(){console.log("Item changed"),this.resetNewItem(),this.item&&this.item.context&&(this.activeType=this.item.context.type,"LOCATION"===this.activeType?(this.activeLocationType=Object.keys(this.item.context.data).shift()||"NAME",this.activeVal=Object.values(this.item.context.data).shift()||"","COORDINATES"===this.activeLocationType&&(this.activeLat=this.activeVal.includes(",")?+this.activeVal.split(",").shift():0,this.activeLon=this.activeVal.includes(",")?+this.activeVal.split(",").pop():0)):"LOCATIONTYPE"===this.activeType?(this.activeLocationTypeType="CUSTOM",this.activeKey=Object.keys(this.item.context.data).shift()||"",this.activeVal=Object.values(this.item.context.data).shift()||""):(this.activeKey=Object.keys(this.item.context.data).shift()||"",this.activeVal=Object.values(this.item.context.data).shift()||""))}typeSelected(){this.newContext={type:this.activeType,data:{}}}async addItem(){this.newContext.type=this.activeType,"LOCATION"===this.activeType?"COORDINATES"===this.activeLocationType?this.newContext.data[this.activeLocationType]=`${this.activeLat},${this.activeLon}`:this.newContext.data[this.activeLocationType]=this.activeVal:"LOCATIONTYPE"===this.activeType?"CUSTOM"===this.activeLocationTypeType?this.newContext.data[this.activeKey]=this.activeVal:"LIST"===this.activeLocationTypeType&&(this.newContext.data[this.activeOsmType.key]=this.activeOsmType.value):this.newContext.data[this.activeKey]=this.activeVal,this.item.context=Object.assign({},this.newContext),this.$store.actions[this.item.type].save(this.item),this.$emit("close")}resetNewItem(){this.activeKey="",this.activeVal="",this.activeType="NONE"}async cancel(){this.$emit("close")}async mounted(){console.log("Add context card mounted"),this.itemChanged()}};Object(c["a"])([Object(r["b"])({default:()=>{}})],We.prototype,"item",void 0),Object(c["a"])([Object(r["d"])("item",{deep:!0})],We.prototype,"itemChanged",null),We=Object(c["a"])([Object(r["a"])({components:{}})],We);var Ye=We,Xe=Ye,He=(a("72d4"),Object(h["a"])(Xe,Ve,ze,!1,null,"2e945334",null)),Je=He.exports;let Ke=class extends r["c"]{constructor(){super(),this.menu=!1}getContext(t){return t&&t.context&&t.context.type?t.context.type:this.$options.filters.capitalize(this.$t("APP.ADD_CONTEXT"))}async selectItem(){this.$store.actions[this.item.type].load(this.item.id)}async deleteItem(){this.$store.actions[this.item.type].del(this.item.id)}closeMenu(){this.menu=!1}async mounted(){}};Object(c["a"])([Object(r["b"])({default:()=>{}})],Ke.prototype,"item",void 0),Ke=Object(c["a"])([Object(r["a"])({components:{AddContextCard:Je}})],Ke);var qe=Ke,Ze=qe,Qe=(a("5c3b"),Object(h["a"])(Ze,Me,De,!1,null,"335aae5a",null)),ta=Qe.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"add-component-card",attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.ADD",{item:this.getTranslateKey()}))+" ")]),a("v-card-text",{staticClass:"pb-0"},[a("v-text-field",{attrs:{label:t._f("capitalize")(""+t.$t("APP.NAME")),autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem(e)}},model:{value:t.newItem.name,callback:function(e){t.$set(t.newItem,"name",e)},expression:"newItem.name"}}),a("v-text-field",{attrs:{label:"Type",disabled:""},model:{value:t.newItem.type,callback:function(e){t.$set(t.newItem,"type",e)},expression:"newItem.type"}},[t._v("itemkey")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("APP.CANCEL"))+" ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addItem}},[t._v(" "+t._s(t.$t("APP.SAVE"))+" ")])],1)],1)},aa=[];let sa=class extends r["c"]{constructor(){super(),this.newItem={}}getTranslateKey(){return this.$tc("COMP."+this.itemkey.toUpperCase())}resetNewItem(){this.newItem={name:"",type:this.itemkey,id:D()}}async addItem(){this.$store.actions[this.itemkey].save(this.newItem),this.resetNewItem(),this.$emit("close")}async cancel(){this.resetNewItem(),this.$emit("close")}async mounted(){this.resetNewItem()}};Object(c["a"])([Object(r["b"])({default:""})],sa.prototype,"itemkey",void 0),sa=Object(c["a"])([Object(r["a"])({components:{}})],sa);var ia=sa,na=ia,oa=(a("3121"),Object(h["a"])(na,ea,aa,!1,null,"7d1db352",null)),ca=oa.exports;let ra=class extends r["c"]{constructor(){super(),this.items=[],this.title="",this.menu=!1}itemkeyChanged(){this.init()}async init(){this.itemkey&&this.itemkey.length&&(this.title=this.$tc("COMP."+this.itemkey.toLocaleUpperCase(),2),await this.$store.actions[this.itemkey].updateList(),this.$store.states.map(t=>{this.items=t[this.itemkey].list}))}async closeMenu(){this.menu=!1}mounted(){console.log("KanbanList mounted"),this.init()}};Object(c["a"])([Object(r["b"])({default:""})],ra.prototype,"itemkey",void 0),Object(c["a"])([Object(r["d"])("itemkey")],ra.prototype,"itemkeyChanged",null),ra=Object(c["a"])([Object(r["a"])({components:{Container:$e["Container"],Draggable:$e["Draggable"],KanbanCard:ta,AddComponentCard:ca}})],ra);var la=ra,da=la,ua=(a("b98c"),Object(h["a"])(da,Le,Re,!1,null,"5b3485c5",null)),pa=ua.exports;let va=class extends r["c"]{constructor(){super(),this.rows=[],this.tab=0,this.categories={},this.categoryNames=[]}getCategoryRows(t){return this.rows.filter(e=>this.categories[t].includes(e))}async init(){this.$store.states.map(t=>{this.rows.length=0,nt.forEach(t=>{this.rows.push(t)}),this.categories=t.scenarios.current?t.scenarios.current.categories:{},this.categoryNames=Object.keys(this.categories||[])})}onCardDrop(t,e){console.log("Drop "+t)}getCardPayload(t){return console.log("getCardPayload "+t),t}async mounted(){console.log("KanbanLists mounted"),this.init()}};va=Object(c["a"])([Object(r["a"])({components:{KanbanList:pa}})],va);var ha=va,ma=ha,fa=(a("fc83"),Object(h["a"])(ma,ke,we,!1,null,"b9a79d90",null)),ya=fa.exports;let ba=class extends r["c"]{mounted(){console.log("DimensionsView mounted")}};ba=Object(c["a"])([Object(r["a"])({components:{KanbanLists:ya}})],ba);var ga=ba,Ca=ga,Oa=Object(h["a"])(Ca,je,Pe,!1,null,"5155dfe7",null),Ea=Oa.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"full-height",attrs:{md:"12",cols:"12"}},[a("ConsistencyMatrices")],1)],1)],1)},xa=[],Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-height"},[a("v-tabs",{on:{change:t.tabChanged},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"blue"}}),t._l(t.categoryNames,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2),a("v-tabs-items",{staticClass:"full-height",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.categories,(function(e,s){return a("v-tab-item",{key:s,staticClass:"full-height"},[a("v-card",{staticClass:"flex-card full-height",staticStyle:{background:"transparent"},attrs:{dense:"",flat:"",tile:""}},[a("v-card-text",{staticClass:"text-description ma-0 pa-2 full-height"},[a("v-container",{staticClass:"ma-0 pa-0 full-height",attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{xs:"12",md:"6"}},[a("span",[a("v-select",{staticClass:"sel-dim",attrs:{label:t._f("capitalize")(t.$t("APP.SELECT_DIMENSION")),items:t.getCategoryRows(s)},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1)])],1),t.scenario?a("v-row",{staticClass:"full-height-min-select",attrs:{"no-gutters":""}},[a("TableCard",{attrs:{category:t.selectedCategory,othercategories:t.getCategoryRows(s),inconsistencies:t.scenario.inconsistencies}})],1):t._e()],1)],1)],1)],1)})),1)],1)},Na=[],Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"full-width full-height table-card"},[a("v-card-title",{attrs:{dense:""}},[t._v(" "+t._s(t.$t("APP.CONSISTENCIES"))+" ")]),a("v-card-text",{staticClass:"pa-0 full-width full-height-min-title"},[a("v-container",{staticClass:"ma-0 pa-0 full-height",attrs:{fluid:""}},[a("v-row",{staticClass:"full-height",attrs:{"no-gutters":""}},[t.collections?a("v-col",{staticClass:"full-height"},[a("v-simple-table",{staticClass:"full-height",attrs:{dense:"","fixed-header":"",height:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left bold--text"},[t._v("Dimension")]),a("th",{staticClass:"text-left bold--text more-padding"},[t._v("Name")]),t._l(t.items,(function(e){return a("th",{key:e.id,staticClass:"text-left"},[t._v(t._s(e.name))])}))],2)]),a("tbody",{staticClass:"consistency-table"},[t._l(t.otherCategoriesWithoutSelected(),(function(e){return t._l(t.collections[e].list,(function(s){return a("tr",{key:s.id},[a("td",[t._v(t._s(e))]),a("td",{staticClass:"more-padding"},[t._v(t._s(s.name))]),t._l(t.items,(function(e){return a("td",{key:e.id},[t.incons(s.id,e.id,"partly")?a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on,o=i.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.setcons(s.id,e.id,void 0)}}},"v-btn",o,!1),n),[a("v-icon",[t._v("mdi-checkerboard")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("APP.PARTLY_CONSISTENT")))])]):t._e(),t.incons(s.id,e.id,"totally")?a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on,o=i.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.setcons(s.id,e.id,"partly")}}},"v-btn",o,!1),n),[a("v-icon",[t._v("mdi-checkbox-blank")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("APP.INCONSISTENT")))])]):t._e(),t.incons(s.id,e.id,void 0)?a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on,o=i.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.setcons(s.id,e.id,"totally")}}},"v-btn",o,!1),n),[a("v-icon",[t._v("mdi-checkbox-blank-outline")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("APP.CONSISTENT")))])]):t._e()],1)}))],2)}))}))],2)]},proxy:!0}],null,!1,1097929205)})],1):t._e()],1)],1)],1)],1)},_a=[];let Ia=class extends r["c"]{constructor(){super(),this.items=[],this.collections=null,this.alwaysTrue=!0}categoryChanged(t){console.log("categoryChanged to "+t),this.init()}otherCategoriesWithoutSelected(){return this.othercategories.filter(t=>t!=this.category)}incons(t,e,a){const s=this.inconsistencies.filter(a=>a.ids.includes(t)&&a.ids.includes(e)).pop();return s?s.type===a:!a}setcons(t,e,a){if(a){const s=this.inconsistencies.filter(a=>a.ids.includes(t)&&a.ids.includes(e)).pop();s?s.type=a:this.inconsistencies.push({ids:[t,e],type:a})}else{const a=this.inconsistencies.findIndex(a=>a.ids.includes(t)&&a.ids.includes(e));a>=0&&this.inconsistencies.splice(a,1)}this.$store.actions.updateInconsistencies(this.inconsistencies)}async init(){this.$store.states.map(t=>{this.items=this.category?t[this.category].list:[],this.collections=t})}async mounted(){console.log("Table card mounted"),this.init()}};Object(c["a"])([Object(r["b"])({default:null})],Ia.prototype,"category",void 0),Object(c["a"])([Object(r["b"])({default:()=>[]})],Ia.prototype,"othercategories",void 0),Object(c["a"])([Object(r["b"])({default:()=>[]})],Ia.prototype,"inconsistencies",void 0),Object(c["a"])([Object(r["d"])("category")],Ia.prototype,"categoryChanged",null),Ia=Object(c["a"])([Object(r["a"])({components:{}})],Ia);var ja=Ia,Pa=ja,ka=(a("ec7f"),Object(h["a"])(Pa,Sa,_a,!1,null,null,null)),wa=ka.exports;let La=class extends r["c"]{constructor(){super(),this.tab=0,this.scenario={},this.rows=[],this.categories={},this.categoryNames=[],this.selectedCategory=null}tabChanged(t){console.log(t),this.selectedCategory=Object.values(this.categories)[t][0]}getCategoryRows(t){return this.rows.filter(e=>this.categories[t].includes(e))}async init(){this.$store.states.map(t=>{this.scenario=t.scenarios.current,this.scenario&&!this.scenario.inconsistencies&&(this.scenario.inconsistencies=[]),this.rows.length=0,nt.forEach(t=>{this.rows.push(t)}),this.categories=this.scenario?this.scenario.categories:{},this.selectedCategory=this.selectedCategory?this.selectedCategory:this.rows.length>0?this.rows[0]:null,this.categoryNames=Object.keys(this.categories||[])})}mounted(){console.log("ConsistencyMatrices mounted"),this.init()}};La=Object(c["a"])([Object(r["a"])({components:{TableCard:wa}})],La);var Ra=La,$a=Ra,Ma=(a("90f7"),Object(h["a"])($a,Aa,Na,!1,null,null,null)),Da=Ma.exports;let Va=class extends r["c"]{mounted(){console.log("ConsistencyView mounted")}};Va=Object(c["a"])([Object(r["a"])({components:{ConsistencyMatrices:Da}})],Va);var za=Va,Ua=za,Fa=Object(h["a"])(Ua,Ta,xa,!1,null,"5fb4fde4",null),Ba=Fa.exports;X["default"].use(Pt["a"]);var Ga=new Pt["a"]({base:"/dashboard/",routes:[{path:"/",redirect:{name:"dimensions"}},{path:"/add",name:"dimensions",component:Ea},{path:"/consistency",name:"consistency",component:Ba},{path:"/create",name:"create",component:Ie},{path:"/show",name:"show",component:me}]}),Wa=(a("032a"),a("a33f")),Ya=(a("d142"),a("cee8")),Xa=a.n(Ya),Ha=a("241b"),Ja=a.n(Ha),Ka=a("8206"),qa=a.n(Ka);class Za{constructor(){this.nominatim="https://nominatim.openstreetmap.org/search?limit=10&",this.overpass=Xa.a}async getGeojsonFromCoordinates(t,e,a){const s=this.createFeature(t,{}),i=Object(Mt["buffer"])(s,5,{units:"kilometers"}),n=Object(Mt["bbox"])(i),o={minlat:+n[0],minlon:+n[1],maxlat:+n[2],maxlon:+n[3]};this.getGeojson(o,e,a)}async getGeojsonFromQuery(t,e,a){const s=Ja.a.stringify({q:t,format:"json"}),i=await qa.a.get(`${this.nominatim}${s}`),n=i.data;if(!n||!n.length)return void console.warn("Nothing found for "+t);const o=n.shift(),c=Object(Mt["buffer"])(Object(Mt["center"])(this.createFeature([+o.lat,+o.lon],{})),5,{units:"kilometers"}),r=Object(Mt["bbox"])(c),l={minlat:+r[0],minlon:+r[1],maxlat:+r[2],maxlon:+r[3]};this.getGeojson(l,e,a)}async getGeojson(t,e,a){const s=`[out:json];(node(${t.minlat},${t.minlon},${t.maxlat},${t.maxlon})[${e}];way(${t.minlat},${t.minlon},${t.maxlat},${t.maxlon})[${e}];relation(${t.minlat},${t.minlon},${t.maxlat},${t.maxlon})[${e}];);out center 10;`;console.log(s);this.overpass(s,a)}createFeature(t,e){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e}}createFeatureOverpass(t){return this.createFeature([t.center.lon,t.center.lat],Object.assign({id:t.id},t.tags))}}X["default"].config.productionTip=!1,X["default"].prototype.$store=vt,X["default"].prototype.$overpass=new Za,X["default"].use(jt.a),X["default"].use(Wa["a"],{dataProjection:"EPSG:4326"}),X["default"].use(i.a),X["default"].filter("uppercase",t=>t?(t=t.toString(),t.toUpperCase()):""),X["default"].filter("capitalize",t=>t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""),X["default"].filter("getArticle",t=>t?z(t)?Q.t("UTIL.AN"):Q.t("UTIL.A"):""),X["default"].filter("trim",t=>t?t.trim():"");const Qa=new jt.a({icons:{iconfont:"mdi"},theme:{dark:!1,themes:{light:{accent:"#5FB0C7",secondary:"#ddeced"},dark:{accent:"#3f798a",secondary:"#223132"}}}});e["default"]=new X["default"]({vuetify:Qa,router:Ga,i18n:Q,render:t=>t(_t)}).$mount("#app")},cfa4:function(t,e,a){"use strict";var s=a("22d0"),i=a.n(s);i.a},d07b:function(t,e,a){"use strict";var s=a("afd5"),i=a.n(s);i.a},d297:function(t,e,a){},d90e:function(t,e,a){"use strict";var s=a("c000"),i=a.n(s);i.a},db1b:function(t,e,a){},e78f:function(t,e,a){},e8b2:function(t,e,a){"use strict";var s=a("7824"),i=a.n(s);i.a},ec7f:function(t,e,a){"use strict";var s=a("53e5"),i=a.n(s);i.a},efcd:function(t,e,a){},fbbd:function(t,e,a){"use strict";var s=a("abb8"),i=a.n(s);i.a},fc79:function(t,e,a){},fc83:function(t,e,a){"use strict";var s=a("3e03"),i=a.n(s);i.a}});
//# sourceMappingURL=app.866a8885.js.map